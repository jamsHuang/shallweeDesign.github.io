!function(e){function t(t){for(var r,a,s=t[0],l=t[1],c=t[2],f=0,h=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);h.length;)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={0:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push(["SE09",2]),n()}({PZhx:function(e,t){var n=window.AddressSeleclList={AdrressArray:[["台北市","100中正區","103大同區","104中山區","105松山區","106大安區","108萬華區","110信義區","111士林區","112北投區","114內湖區","115南港區","116文山區"],["台北縣","207萬里鄉","208金山鄉","220板橋市","221汐止市","222深坑鄉","223石碇鄉","224瑞芳鎮","226平溪鄉","227雙溪鄉","228貢寮鄉","231新店市","232坪林鄉","233烏來鄉","234永和市","235中和市","236土城市","237三峽鎮","238樹林市","239鶯歌鎮","241三重市","242新莊市","243泰山鄉","244林口鄉","247蘆洲市","248五股鄉","248新莊市","249八里鄉","251淡水鎮","252三芝鄉","253石門鄉"],["台中市","400中區","401東區","402南區","403西區","404北區","406北屯區","407西屯區","408南屯區"],["台中縣","411太平市","412大里市","413霧峰鄉","414烏日鄉","420豐原市","421后里鄉","422石岡鄉","423東勢鎮","424和平鄉","426新社鄉","427潭子鄉","428大雅鄉","429神岡鄉","432大肚鄉","433沙鹿鎮","434龍井鄉","435梧棲鎮","436清水鎮","437大甲鎮","438外埔鄉","439大安鄉"],["台東縣","950台東市","951綠島鄉","952蘭嶼鄉","953延平鄉","954卑南鄉","955鹿野鄉","956關山鎮","957海端鄉","958池上鄉","959東河鄉","961成功鎮","962長濱鄉","963太麻里鄉","964金峰鄉","965大武鄉","966達仁鄉"],["台南市","700中西區","701東區","702南區","704北區","708安平區","709安南區"],["台南縣","710永康市","711歸仁鄉","712新化鎮","713左鎮鄉","714玉井鄉","715楠西鄉","716南化鄉","717仁德鄉","718關廟鄉","719龍崎鄉","720官田鄉","721麻豆鎮","722佳里鎮","723西港鄉","724七股鄉","725將軍鄉","726學甲鎮","727北門鄉","730新營市","731後壁鄉","732白河鎮","733東山鄉","734六甲鄉","735下營鄉","736柳營鄉","737鹽水鎮","741善化鎮","741新市鄉","742大內鄉","743山上鄉","744新市鄉","745安定鄉"],["宜蘭縣","260宜蘭市","261頭城鎮","262礁溪鄉","263壯圍鄉","264員山鄉","265羅東鎮","266三星鄉","267大同鄉","268五結鄉","269冬山鄉","270蘇澳鎮","272南澳鄉","290釣魚台"],["花蓮縣","970花蓮市","971新城鄉","972秀林鄉","973吉安鄉","974壽豐鄉","975鳳林鎮","976光復鄉","977豐濱鄉","978瑞穗鄉","979萬榮鄉","981玉里鎮","982卓溪鄉","983富里鄉"],["金門縣","890金沙鎮","891金湖鎮","892金寧鄉","893金城鎮","894烈嶼鄉","896烏坵鄉"],["南投縣","540南投市","541中寮鄉","542草屯鎮","544國姓鄉","545埔里鎮","546仁愛鄉","551名間鄉","552集集鎮","553水里鄉","555魚池鄉","556信義鄉","557竹山鎮","558鹿谷鄉"],["南海島","817東沙群島","819南沙群島"],["屏東縣","900屏東市","901三地門鄉","902霧台鄉","903瑪家鄉","904九如鄉","905里港鄉","906高樹鄉","907鹽埔鄉","908長治鄉","909麟洛鄉","911竹田鄉","912內埔鄉","913萬丹鄉","920潮州鎮","921泰武鄉","922來義鄉","923萬巒鄉","924崁頂鄉","925新埤鄉","926南州鄉","927林邊鄉","928東港鎮","929琉球鄉","931佳冬鄉","932新園鄉","940枋寮鄉","941枋山鄉","942春日鄉","943獅子鄉","944車城鄉","945牡丹鄉","946恆春鎮","947滿州鄉"],["苗栗縣","350竹南鎮","351頭份鎮","352三灣鄉","353南庄鄉","354獅潭鄉","356後龍鎮","357通霄鎮","358苑裡鎮","360苗栗市","361造橋鄉","362頭屋鄉","363公館鄉","364大湖鄉","365泰安鄉","366銅鑼鄉","367三義鄉","368西湖鄉","369卓蘭鎮"],["桃園縣","320中壢市","324平鎮市","325龍潭鄉","326楊梅鎮","327新屋鄉","328觀音鄉","330桃園市","333龜山鄉","334八德市","335大溪鎮","336復興鄉","337大園鄉","338蘆竹鄉"],["高雄市","800新興區","801前金區","802苓雅區","803鹽埕區","804鼓山區","805旗津區","806前鎮區","807三民區","811楠梓區","812小港區","813左營區","817東沙群島","819南沙群島"],["高雄縣","814仁武鄉","815大社鄉","820岡山鎮","821路竹鄉","822阿蓮鄉","823田寮鄉","824燕巢鄉","825橋頭鄉","826梓官鄉","827彌陀鄉","828永安鄉","829湖內鄉","830鳳山市","831大寮鄉","832林園鄉","833鳥松鄉","840大樹鄉","842旗山鎮","843美濃鎮","844六龜鄉","845內門鄉","846杉林鄉","847甲仙鄉","848桃源鄉","849那瑪夏鄉","851茂林鄉","852茄萣鄉"],["基隆市","200仁愛區","201信義區","202中正區","203中山區","204安樂區","205暖暖區","206七堵區"],["連江縣","209南竿鄉","210北竿鄉","211莒光鄉","212東引鄉"],["釣魚台","290釣魚台"],["雲林縣","630斗南鎮","631大埤鄉","632虎尾鎮","633土庫鎮","634褒忠鄉","635東勢鄉","636台西鄉","637崙背鄉","638麥寮鄉","640斗六市","643林內鄉","646古坑鄉","647莿桐鄉","648西螺鎮","649二崙鄉","651北港鎮","652水林鄉","653口湖鄉","654四湖鄉","655元長鄉"],["新竹市","300北區","300東區","300香山區"],["新竹縣","300寶山鄉","302竹北市","303湖口鄉","304新豐鄉","305新埔鎮","306關西鎮","307芎林鄉","308寶山鄉","310竹東鎮","311五峰鄉","312橫山鄉","313尖石鄉","314北埔鄉","315峨眉鄉"],["嘉義市","600西區","600東區"],["嘉義縣","602番路鄉","603梅山鄉","604竹崎鄉","605阿里山鄉","606中埔鄉","607大埔鄉","608水上鄉","611鹿草鄉","612太保市","613朴子市","614東石鄉","615六腳鄉","616新港鄉","621民雄鄉","622大林鎮","623溪口鄉","624義竹鄉","625布袋鎮"],["彰化縣","500彰化市","502芬園鄉","503花壇鄉","504秀水鄉","505鹿港鎮","506福興鄉","507線西鄉","508和美鎮","509伸港鄉","510員林鎮","511社頭鄉","512永靖鄉","513埔心鄉","514溪湖鎮","515大村鄉","516埔鹽鄉","520田中鎮","521北斗鎮","522田尾鄉","523埤頭鄉","524溪州鄉","525竹塘鄉","526二林鎮","527大城鄉","528芳苑鄉","530二水鄉"],["澎湖縣","880馬公市","881西嶼鄉","882望安鄉","883七美鄉","884白沙鄉","885湖西鄉"]],defaultOptionCityText:"請選擇縣市",defaultOptionCityValue:"",defaultOptionAreaText:"請選擇鄉鎮",defaultOptionAreaValue:"",Initialize:function(e,t,r,i,o,a){var s=r||this.defaultOptionCityText,l=a||this.defaultOptionCityValue,c=o||this.defaultOptionAreaText,u=a||this.defaultOptionAreaValue,f=document.getElementById(e),h=document.getElementById(t);f.options[0]=new Option(s,l),h.options[0]=new Option(c,u);for(var d=0;d<this.AdrressArray.length;d++)f.options[d+1]=new Option(this.AdrressArray[d][0],this.AdrressArray[d][0]);f.addEventListener?f.addEventListener("change",(function(e){n.AppendArea(e,h,c,u)}),!1):f.attachEvent("onchange",(function(e){n.AppendArea(e,h,c,u)}))},AppendArea:function(e,t,n,r){var i=e.target?e.target:e.srcElement;if(0==i.selectedIndex)return t.options.length=0,void(t.options[0]=new Option(n,r));t.options.length=this.AdrressArray[i.selectedIndex-1].length-1;for(var o=1;o<this.AdrressArray[i.selectedIndex-1].length;o++)t.options[o-1]=new Option(this.AdrressArray[i.selectedIndex-1][o],this.AdrressArray[i.selectedIndex-1][o])},ReturnSelectAddress:function(e,t){e=document.getElementById(e),t=document.getElementById(t);return e.value+t.value}}},SE09:function(e,t,n){"use strict";n.r(t);var r=n("GtyH"),i=(n("nBWI"),n("AmWB"),n("yt/C")),o=n.n(i);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._htmlElement=t,this.resizeHandler=this.resizeHandler.bind(this),this.scrollHandler=this.scrollHandler.bind(this),this.createScrollEffect=this.createScrollEffect.bind(this)}var t,n,r;return t=e,(n=[{key:"scrollHandler",value:function(e){}},{key:"resizeHandler",value:function(){}},{key:"htmlElement",get:function(){return this._htmlElement}}])&&a(t.prototype,n),r&&a(t,r),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=u(this,h(t).call(this,e))).smController=n,r.content=r.htmlElement.querySelector(".app_section_content"),r.triggerScenes=[],r.triggerNodes=r.htmlElement.querySelectorAll(".trigger"),r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"resizeHandler",value:function(){var e=this;this.contentScene&&this.contentScene.duration(this.htmlElement.clientHeight),this.triggerScenes&&this.triggerScenes.length&&Array.apply(null,this.triggerNodes).map((function(t,n){e.triggerScenes[n].duration(t.clientHeight)})),f(h(t.prototype),"resizeHandler",this).call(this)}},{key:"createScrollEffect",value:function(){var e=this;this.contentScene=new o.a.Scene({triggerElement:this.content,triggerHook:0,duration:this.htmlElement.clientHeight}).on("enter",(function(t){return e.animateLogo()})).on("leave",(function(t){return e.resetLogo()})).setPin(this.content).addTo(this.smController),Array.apply(null,this.triggerNodes).map((function(t,n){var r=new o.a.Scene({triggerElement:t,triggerHook:0,duration:t.clientHeight}).on("enter",(function(t){return e.animateContent(n)})).on("leave",(function(t){return e.resetContent(n)})).addTo(e.smController);e.triggerScenes.push(r)}))}},{key:"resetLogo",value:function(){this.htmlElement.querySelector(".kv__logo").classList.remove("flipInY")}},{key:"animateLogo",value:function(){this.htmlElement.querySelector(".kv__logo").classList.add("flipInY")}},{key:"animateContent",value:function(e){this.htmlElement.querySelector(".kv__subtitle").classList.add("animation_"+(e+1))}},{key:"resetContent",value:function(e){var t=this.htmlElement.querySelector(".kv__subtitle");this.htmlElement.querySelector(".kv__logo"),t.classList.remove("animation_"+(e+1))}}])&&c(n.prototype,r),i&&c(n,i),t}(s);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=_(this,v(t).call(this,e))).smController=n,r.content=r.htmlElement.querySelector(".app_section_content"),r.triggerScenes=[],r.triggerNodes=r.htmlElement.querySelectorAll(".trigger"),r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),n=t,(i=[{key:"resizeHandler",value:function(){var e=this;this.contentScene&&this.contentScene.duration(this.htmlElement.clientHeight),this.triggerScenes&&this.triggerScenes.length&&Array.apply(null,this.triggerNodes).map((function(t,n){e.triggerScenes[n].duration(t.clientHeight)})),y(v(t.prototype),"resizeHandler",this).call(this)}},{key:"createScrollEffect",value:function(){var e=this;this.contentScene=new o.a.Scene({triggerElement:this.content,triggerHook:0,duration:this.htmlElement.clientHeight}).setPin(this.content).addTo(this.smController),Array.apply(null,this.triggerNodes).map((function(t,n){var i=new o.a.Scene({triggerElement:t,triggerHook:.5,duration:t.clientHeight}).on("progress",(function(e){if(3==n){if(e.progress>=.5){var t=-(e.progress-.5)*window.innerHeight;r(".videointro__bg").css({top:t+"px"})}}else 4==n&&e.progress<=.5&&(t=-(e.progress+.5)*window.innerHeight,r(".videointro__bg").css({top:t+"px"}))})).on("enter",(function(t){return e.animateContent(n)})).on("leave",(function(t){return e.resetContent(n)})).addTo(e.smController);e.triggerScenes.push(i)}))}},{key:"animateContent",value:function(e){var t=r(".videointro__title")[0];r(".videointro__text")[0].classList.add("animation_"+(e+1)),t.classList.add("animation_"+(e+1))}},{key:"resetContent",value:function(e){var t=r(".videointro__title")[0];r(".videointro__text")[0].classList.remove("animation_"+(e+1)),t.classList.remove("animation_"+(e+1))}}])&&m(n.prototype,i),a&&m(n,a),t}(s),E=n("Gpi5"),S=n.n(E);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.emitter=new S.a,this._isPlaying=!1,this._isPlayerReady=!1,this._loop=!1,this._mute=!1,this._player=null,this.loadYoutubeAPI=this.loadYoutubeAPI.bind(this),this.playerReady=this.playerReady.bind(this),this.playerStateChange=this.playerStateChange.bind(this)}var t,n,r;return t=e,(n=[{key:"loadYoutubeAPI",value:function(){var e=this,t=document.createElement("script");t.type="text/javascript",t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t),window.onYouTubeIframeAPIReady=function(){e.emitter.emit("ON_YOUTUBE_API_READY")}}},{key:"createPlayer",value:function(e){this._player=new YT.Player(e,{width:"1280",height:"720",videoId:this.videoId,playerVars:{autoplay:0,rel:0,controls:1,autohide:1,showinfo:0},events:{onReady:this.playerReady,onStateChange:this.playerStateChange}})}},{key:"playerReady",value:function(){this._isPlayerReady=!0,this.emitter.emit("YOUTUBE_PLAYER_READY")}},{key:"playerStateChange",value:function(e){e.data,0==e.data&&(this._isPlaying=!1,this._loop&&(this.seekTo(0),this.playVideo())),1==e.data&&(this._isPlaying=!0),2==e.data&&(this._isPlaying=!1),e.data,e.data}},{key:"playVideo",value:function(){!0===this._mute&&this.player.mute(),this.player.playVideo()}},{key:"pauseVideo",value:function(){this.player.pauseVideo()}},{key:"stopVideo",value:function(){this.player.stopVideo()}},{key:"seekTo",value:function(e){this.player.seekTo(e)}},{key:"videoId",set:function(e){this._videoId=e},get:function(){return this._videoId}},{key:"loop",set:function(e){this._loop=e}},{key:"mute",set:function(e){this._mute=e}},{key:"isPlaying",get:function(){return this._isPlaying}},{key:"isPlayerReady",get:function(){return this._isPlayerReady}},{key:"player",get:function(){return this._player}}])&&x(t.prototype,n),r&&x(t,r),e}();function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,n){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=function(e){function t(e,n){var r,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(r=!(o=A(t).call(this,e))||"object"!==P(o)&&"function"!=typeof o?k(i):o).smController=n,r.content=r.htmlElement.querySelector(".app_section_content"),r.triggerScenes=[],r.triggerNodes=r.htmlElement.querySelectorAll(".trigger"),r.youtubePlayer=null,r.createYoutubePlayer=r.createYoutubePlayer.bind(k(r)),r.createYoutubePlayer(),r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,e),n=t,(r=[{key:"resizeHandler",value:function(){var e=this;this.contentScene&&this.contentScene.duration(this.htmlElement.clientHeight-window.innerHeight),this.triggerScenes&&this.triggerScenes.length&&Array.apply(null,this.triggerNodes).map((function(t,n){e.triggerScenes[n].duration(t.clientHeight)})),R(A(t.prototype),"resizeHandler",this).call(this)}},{key:"createYoutubePlayer",value:function(){var e=this;this.youtubePlayer=new T,this.youtubePlayer.emitter.on("ON_YOUTUBE_API_READY",(function(){e.youtubePlayer.videoId="OOG1Lx-ICc0",e.youtubePlayer.loop=!0,e.youtubePlayer.mute=!1,e.youtubePlayer.createPlayer("youtubePlayer")})),this.youtubePlayer.emitter.on("YOUTUBE_PLAYER_READY",(function(){})),this.youtubePlayer.loadYoutubeAPI()}},{key:"createScrollEffect",value:function(){var e=this;this.contentScene=new o.a.Scene({triggerElement:this.content,triggerHook:0,duration:this.htmlElement.clientHeight-window.innerHeight}).setPin(this.content).addTo(this.smController),Array.apply(null,this.triggerNodes).map((function(t,n){var r=new o.a.Scene({triggerElement:t,triggerHook:.5,duration:t.clientHeight}).on("enter",(function(t){return e.animateContent(n)})).on("leave",(function(t){return e.resetContent(n)})).addTo(e.smController);e.triggerScenes.push(r)}));var t=this.htmlElement.querySelector(".video__container");new o.a.Scene({triggerElement:t,triggerHook:.5,duration:t.clientHeight}).on("enter",(function(t){e.youtubePlayer&&e.youtubePlayer.player&&e.youtubePlayer.playVideo()})).on("leave",(function(t){e.youtubePlayer&&e.youtubePlayer.player&&e.youtubePlayer.pauseVideo()})).addTo(this.smController)}},{key:"animateContent",value:function(e){}},{key:"resetContent",value:function(e){}}])&&O(n.prototype,r),i&&O(n,i),t}(s);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e,t,n){return(D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M,N=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=I(this,F(t).call(this,e))).smController=n,r.content=r.htmlElement.querySelector(".app_section_content"),r.triggerScenes=[],r.triggerNodes=r.htmlElement.querySelectorAll(".trigger"),r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(t,e),n=t,(i=[{key:"resizeHandler",value:function(){var e=this;this.contentScene&&this.contentScene.duration(this.htmlElement.clientHeight),this.triggerScenes&&this.triggerScenes.length&&Array.apply(null,this.triggerNodes).map((function(t,n){e.triggerScenes[n].duration(t.clientHeight)})),D(F(t.prototype),"resizeHandler",this).call(this)}},{key:"createScrollEffect",value:function(){var e=this;this.contentScene=new o.a.Scene({triggerElement:this.content,triggerHook:0,duration:this.htmlElement.clientHeight}).setPin(this.content).addTo(this.smController),Array.apply(null,this.triggerNodes).map((function(t,n){var r=new o.a.Scene({triggerElement:t,triggerHook:.5,duration:t.clientHeight}).on("enter",(function(t){return e.animateContent(n)})).on("leave",(function(t){return e.resetContent(n)})).addTo(e.smController);e.triggerScenes.push(r)}))}},{key:"animateContent",value:function(e){var t=r(".model__woman")[0],n=r(".model__title")[0],i=r(".model__text")[0],o=r(".model__skin")[0],a=r(".model__skin__black")[0];t.classList.add("animation_"+(e+1)),n.classList.add("animation_"+(e+1)),i.classList.add("animation_"+(e+1)),o.classList.add("animation_"+(e+1)),a.classList.add("animation_"+(e+1))}},{key:"resetContent",value:function(e){var t=r(".model__woman")[0],n=r(".model__title")[0],i=r(".model__text")[0],o=r(".model__skin")[0],a=r(".model__skin__black")[0];t.classList.remove("animation_"+(e+1)),n.classList.remove("animation_"+(e+1)),i.classList.remove("animation_"+(e+1)),o.classList.remove("animation_"+(e+1)),a.classList.remove("animation_"+(e+1))}}])&&j(n.prototype,i),a&&j(n,a),t}(s),B=0,W=0,X=!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i));var z=document.getElementById("kale");z.height=4*window.innerHeight/3,window.innerHeight>window.innerWidth?z.width=window.innerHeight:z.width=window.innerWidth,r((function(){M=(window.innerWidth-z.width)/2,1==X?window.innerHeight>window.innerWidth?r("#kale").css({width:4*window.innerHeight/3+"px",height:4*window.innerHeight/3+"px","margin-left":(window.innerWidth-4*window.innerHeight/3)/2+"px"}):r("#kale").css({width:window.innerWidth+"px",height:4*window.innerHeight/3+"px","margin-left":"0px"}):r("#kale").css({width:z.width+"px",height:z.height+"px","margin-left":M+"px"})}));var q,Y,$,G,V,K,Q=z.getContext("2d"),J=new Image;function Z(){ee(G,$,J,z,Q,8,W),K=Math.PI/180*B,W=Math.sin(K)*V,(B+=.5)>360&&(B=0)}function ee(e,t,n,r,i,o,a){var s=new Path2D;s.moveTo(0,0),s.lineTo(r.width,0),s.lineTo(r.width*Math.cos(Math.PI/180*(360/o)),r.width*Math.sin(Math.PI/180*(360/o))),s.lineTo(0,0);for(var l=360/o,c=(180-l)/2,u=0;u<o;u++)i.save(),i.translate(r.width/2,r.height/2),i.rotate(Math.PI/180*l*u),i.clip(s),u%2==0?(i.rotate(-Math.PI/180*c),te(n,i,e/2+a,0,e,t)):(i.rotate(-Math.PI/180*c),i.drawImage(n,-e/2+a,0,e,t)),i.restore()}function te(e,t,n,r,i,o){t.save(),t.scale(-1,1),t.drawImage(e,n,r,-1*i,o),t.restore()}function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e,t,n){return(oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ae(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Number.prototype.map=function(e,t,n,r){return(this-e)*(r-n)/(t-e)+n};var le=!1,ce=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ie(this,ae(t).call(this,e))).smController=n,r.content=r.htmlElement.querySelector(".app_section_content"),r.triggerScenes=[],r.triggerNodes=r.htmlElement.querySelectorAll(".trigger"),r.timer=null,r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,e),n=t,(i=[{key:"resizeHandler",value:function(){var e=this;this.contentScene&&this.contentScene.duration(this.htmlElement.clientHeight),this.triggerScenes&&this.triggerScenes.length&&Array.apply(null,this.triggerNodes).map((function(t,n){e.triggerScenes[n].duration(t.clientHeight+window.innerHeight)})),oe(ae(t.prototype),"resizeHandler",this).call(this)}},{key:"createScrollEffect",value:function(){var e=this;this.contentScene=new o.a.Scene({triggerElement:this.content,triggerHook:0,duration:this.htmlElement.clientHeight}).on("leave",(function(t){return e.resetKale()})).setPin(this.content).addTo(this.smController),Array.apply(null,this.triggerNodes).map((function(t,n){var r=new o.a.Scene({triggerElement:t,triggerHook:1,duration:t.clientHeight+window.innerHeight}).on("enter",(function(t){return e.animateContent(n)})).on("leave",(function(t){return e.resetContent(n)})).addTo(e.smController);e.triggerScenes.push(r)})),J.onload=function(){q=Math.sqrt(Math.pow(z.width,2)+Math.pow(z.height,2)),Y=J.width/J.height,$=q/2,G=parseInt(Y*$),V=G/8,ee(G,$,J,z,Q,8,0),window.addEventListener("drawKai",(function(){})),window.addEventListener("resize",(function(){(z=document.getElementById("kale")).height=4*window.innerHeight/3,window.innerHeight>window.innerWidth?z.width=window.innerHeight:z.width=window.innerWidth,M=(window.innerWidth-z.width)/2,1==X?window.innerHeight>window.innerWidth?r("#kale").css({width:4*window.innerHeight/3+"px",height:4*window.innerHeight/3+"px","margin-left":(window.innerWidth-4*window.innerHeight/3)/2+"px"}):r("#kale").css({width:window.innerWidth+"px",height:4*window.innerHeight/3+"px","margin-left":"0px"}):r("#kale").css({width:z.width+"px",height:z.height+"px","margin-left":M+"px"}),q=Math.sqrt(Math.pow(z.width,2)+Math.pow(z.height,2)),Y=J.width/J.height,$=q/2,G=parseInt(Y*$)}))},J.src=document.getElementById("defaultImg").src}},{key:"animateKale",value:function(){this.startTimer()}},{key:"resetKale",value:function(){this.stopTimer()}},{key:"animateContent",value:function(e){var t=r(".kale__production__title--1")[0],n=r(".kale__production__title--2")[0],i=this.htmlElement.querySelector(".kale__production__text"),o=r(".kale__production__img")[0];t.classList.add("animation_"+(e+1)),n.classList.add("animation_"+(e+1)),i.classList.add("animation_"+(e+1)),o.classList.add("animation_"+(e+1)),0==le&&this.animateKale()}},{key:"startTimer",value:function(){le=!0,this.timer=setInterval(Z,50)}},{key:"stopTimer",value:function(){le=!1,clearInterval(this.timer)}},{key:"resetContent",value:function(e){var t=r(".kale__production__title--1")[0],n=r(".kale__production__title--2")[0],i=r(".kale__production__img")[0],o=this.htmlElement.querySelector(".kale__production__text");t.classList.remove("animation_"+(e+1)),n.classList.remove("animation_"+(e+1)),o.classList.remove("animation_"+(e+1)),i.classList.remove("animation_"+(e+1))}}])&&re(n.prototype,i),a&&re(n,a),t}(s);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function de(e,t,n){return(de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pe(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var me=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=he(this,pe(t).call(this,e))).smController=n,r.content=r.htmlElement.querySelector(".app_section_content"),r.triggerScenes=[],r.triggerNodes=r.htmlElement.querySelectorAll(".trigger"),r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,e),n=t,(i=[{key:"resizeHandler",value:function(){var e=this;this.contentScene&&this.contentScene.duration(this.htmlElement.clientHeight-window.innerHeight),this.triggerScenes&&this.triggerScenes.length&&Array.apply(null,this.triggerNodes).map((function(t,n){e.triggerScenes[n].duration(t.clientHeight)})),de(pe(t.prototype),"resizeHandler",this).call(this)}},{key:"createScrollEffect",value:function(){var e=this;this.contentScene=new o.a.Scene({triggerElement:this.content,triggerHook:0,duration:this.htmlElement.clientHeight-window.innerHeight}).setPin(this.content).addTo(this.smController),Array.apply(null,this.triggerNodes).map((function(t,n){var r=new o.a.Scene({triggerElement:t,triggerHook:.5,duration:t.clientHeight}).on("enter",(function(t){return e.animateContent(n)})).on("leave",(function(t){return e.resetContent(n)})).addTo(e.smController);e.triggerScenes.push(r)}))}},{key:"animateContent",value:function(e){var t=r(".afterModel__production")[0],n=r(".afterModel__title__1")[0],i=r(".afterModel__text__1")[0],o=r(".afterModel__title__2")[0],a=r(".afterModel__arr")[0],s=r(".afterModel__text__2")[0];t.classList.add("animation_"+(e+1)),n.classList.add("animation_"+(e+1)),i.classList.add("animation_"+(e+1)),o.classList.add("animation_"+(e+1)),s.classList.add("animation_"+(e+1)),a.classList.add("animation_"+(e+1)),e+1>=2?r(".afterModel__arr").show():r(".afterModel__arr").hide()}},{key:"resetContent",value:function(e){var t=r(".afterModel__production")[0],n=r(".afterModel__title__1")[0],i=r(".afterModel__text__1")[0],o=r(".afterModel__title__2")[0],a=r(".afterModel__arr")[0],s=r(".afterModel__text__2")[0];t.classList.remove("animation_"+(e+1)),n.classList.remove("animation_"+(e+1)),i.classList.remove("animation_"+(e+1)),o.classList.remove("animation_"+(e+1)),s.classList.remove("animation_"+(e+1)),a.classList.remove("animation_"+(e+1))}}])&&fe(n.prototype,i),a&&fe(n,a),t}(s);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e,t,n){return(be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=we(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Se=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ve(this,we(t).call(this,e))).smController=n,r.content=r.htmlElement.querySelector(".app_section_content"),r.triggerScenes=[],r.triggerNodes=r.htmlElement.querySelectorAll(".trigger"),r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,e),n=t,(i=[{key:"resizeHandler",value:function(){var e=this;this.contentScene&&this.contentScene.duration(this.htmlElement.clientHeight-2*window.innerHeight),this.triggerScenes&&this.triggerScenes.length&&Array.apply(null,this.triggerNodes).map((function(t,n){e.triggerScenes[n].duration(t.clientHeight)})),be(we(t.prototype),"resizeHandler",this).call(this)}},{key:"createScrollEffect",value:function(){var e=this;this.contentScene=new o.a.Scene({triggerElement:this.content,triggerHook:0,duration:this.htmlElement.clientHeight-2*window.innerHeight}).setPin(this.content).addTo(this.smController),Array.apply(null,this.triggerNodes).map((function(t,n){var r=new o.a.Scene({triggerElement:t,triggerHook:1,duration:t.clientHeight}).on("enter",(function(t){return e.animateContent(n)})).on("leave",(function(t){return e.resetContent(n)})).addTo(e.smController);e.triggerScenes.push(r)}))}},{key:"animateContent",value:function(e){var t=r(".feature__model")[0],n=r(".feature__title__1")[0],i=r(".feature__text__1")[0],o=r(".feature__bg--skin")[0],a=r(".feature__title__2")[0],s=r(".feature__text__2")[0],l=r(".feature__title__3")[0],c=r(".feature__text__3")[0],u=r(".feature__title__4")[0],f=r(".feature__text__4")[0],h=r(".wordcloud")[0],d=r(".feature__triangle")[0];t.classList.add("animation_"+(e+1)),n.classList.add("animation_"+(e+1)),i.classList.add("animation_"+(e+1)),o.classList.add("animation_"+(e+1)),a.classList.add("animation_"+(e+1)),s.classList.add("animation_"+(e+1)),l.classList.add("animation_"+(e+1)),c.classList.add("animation_"+(e+1)),u.classList.add("animation_"+(e+1)),f.classList.add("animation_"+(e+1)),h.classList.add("animation_"+(e+1)),d.classList.add("animation_"+(e+1));for(var p=0;p<r(".wordcloud_text").length;p++)r(".wordcloud_text_"+p)[0].classList.add("animation_"+(e+1))}},{key:"resetContent",value:function(e){var t=r(".feature__model")[0],n=r(".feature__title__1")[0],i=r(".feature__text__1")[0],o=r(".feature__bg--skin")[0],a=r(".feature__title__2")[0],s=r(".feature__text__2")[0],l=r(".feature__title__3")[0],c=r(".feature__text__3")[0],u=r(".feature__title__4")[0],f=r(".feature__text__4")[0],h=r(".wordcloud")[0],d=r(".feature__triangle")[0];t.classList.remove("animation_"+(e+1)),n.classList.remove("animation_"+(e+1)),i.classList.remove("animation_"+(e+1)),o.classList.remove("animation_"+(e+1)),a.classList.remove("animation_"+(e+1)),s.classList.remove("animation_"+(e+1)),l.classList.remove("animation_"+(e+1)),c.classList.remove("animation_"+(e+1)),u.classList.remove("animation_"+(e+1)),f.classList.remove("animation_"+(e+1)),h.classList.remove("animation_"+(e+1)),d.classList.remove("animation_"+(e+1));for(var p=0;p<r(".wordcloud_text").length;p++)r(".wordcloud_text_"+p)[0].classList.remove("animation_"+(e+1))}}])&&ye(n.prototype,i),a&&ye(n,a),t}(s);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e,t,n){return(Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ke(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ae=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Pe(this,ke(t).call(this,e))).smController=n,r.content=r.htmlElement.querySelector(".app_section_content"),r.triggerScenes=[],r.triggerNodes=r.htmlElement.querySelectorAll(".trigger"),r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(t,e),n=t,(i=[{key:"resizeHandler",value:function(){var e=this;this.contentScene&&this.contentScene.duration(this.htmlElement.clientHeight),this.triggerScenes&&this.triggerScenes.length&&Array.apply(null,this.triggerNodes).map((function(t,n){e.triggerScenes[n].duration(t.clientHeight)})),Oe(ke(t.prototype),"resizeHandler",this).call(this)}},{key:"createScrollEffect",value:function(){var e=this;this.contentScene=new o.a.Scene({triggerElement:this.content,triggerHook:0,duration:this.htmlElement.clientHeight}).on("update",(function(){})).setPin(this.content).addTo(this.smController),Array.apply(null,this.triggerNodes).map((function(t,n){var r=new o.a.Scene({triggerElement:t,triggerHook:.5,duration:t.clientHeight+window.innerHeight}).on("enter",(function(t){return e.animateContent(n)})).on("leave",(function(t){return e.resetContent(n)})).addTo(e.smController);e.triggerScenes.push(r)}))}},{key:"animateContent",value:function(e){var t=r(".slogan__model")[0],n=r(".slogan__model--white")[0],i=r(".slogan__title__1")[0],o=r(".slogan__text__2")[0],a=r(".slogan__title__2")[0],s=r(".slogan__text__3")[0],l=r(".slogan__title__3")[0],c=r(".slogan__text__4")[0];t.classList.add("animation_"+(e+1)),n.classList.add("animation_"+(e+1)),i.classList.add("animation_"+(e+1)),o.classList.add("animation_"+(e+1)),a.classList.add("animation_"+(e+1)),s.classList.add("animation_"+(e+1)),l.classList.add("animation_"+(e+1)),c.classList.add("animation_"+(e+1))}},{key:"resetContent",value:function(e){var t=r(".slogan__model")[0],n=r(".slogan__model--white")[0],i=r(".slogan__title__1")[0],o=r(".slogan__text__2")[0],a=r(".slogan__title__2")[0],s=r(".slogan__text__3")[0],l=r(".slogan__title__3")[0],c=r(".slogan__text__4")[0];t.classList.remove("animation_"+(e+1)),n.classList.remove("animation_"+(e+1)),i.classList.remove("animation_"+(e+1)),o.classList.remove("animation_"+(e+1)),a.classList.remove("animation_"+(e+1)),s.classList.remove("animation_"+(e+1)),l.classList.remove("animation_"+(e+1)),c.classList.remove("animation_"+(e+1))}}])&&Te(n.prototype,i),a&&Te(n,a),t}(s);n("UHLH");function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e,t,n){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ie(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fe=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ce(this,Ie(t).call(this,e))).smController=n,r.content=r.htmlElement.querySelector(".app_section_content"),r.triggerScenes=[],r.triggerNodes=r.htmlElement.querySelectorAll(".trigger"),r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(t,e),n=t,(i=[{key:"resizeHandler",value:function(){var e=this;this.contentScene&&this.contentScene.duration(this.htmlElement.clientHeight-2*window.innerHeight),this.triggerScenes&&this.triggerScenes.length&&Array.apply(null,this.triggerNodes).map((function(t,n){e.triggerScenes[n].duration(t.clientHeight)})),je(Ie(t.prototype),"resizeHandler",this).call(this)}},{key:"createScrollEffect",value:function(){var e=this;this.contentScene=new o.a.Scene({triggerElement:this.content,triggerHook:0,duration:this.htmlElement.clientHeight-2*window.innerHeight}).on("enter",(function(t){return e.startTimer()})).on("leave",(function(t){return e.stopTimer()})).setPin(this.content).addTo(this.smController),Array.apply(null,this.triggerNodes).map((function(t,n){var r=new o.a.Scene({triggerElement:t,triggerHook:.5,duration:t.clientHeight}).on("update",(function(e){"FORWARD"==e.target.controller().info("scrollDirection")?"FORWARD":"REVERSE"})).on("enter",(function(t){return e.animateContent(n)})).on("leave",(function(t){return e.resetContent(n)})).addTo(e.smController);e.triggerScenes.push(r)})),this.init()}},{key:"animateContent",value:function(e){var t=r(".ripple__title__1")[0],n=r(".ripple__text__1")[0],i=r(".ripple__title__2")[0],o=r(".ripple__title__3")[0],a=r(".ripple__text__2")[0],s=r(".ripple__text__3")[0],l=r(".ripple__production")[0],c=r(".ripple__bg")[0];t.classList.add("animation_"+(e+1)),n.classList.add("animation_"+(e+1)),i.classList.add("animation_"+(e+1)),o.classList.add("animation_"+(e+1)),a.classList.add("animation_"+(e+1)),s.classList.add("animation_"+(e+1)),l.classList.add("animation_"+(e+1)),c.classList.add("animation_"+(e+1))}},{key:"init",value:function(){r("#ripple__bg").ripples({resolution:512,dropRadius:25,perturbance:.04,interactive:!1,crossOrigin:"Anonymous",imageUrl:r(".ripple__img").src})}},{key:"startTimer",value:function(){var e=r("#ripple__bg"),t=Math.random()*e.outerWidth(),n=Math.random()*e.outerHeight(),i=20,o=.04+.04*Math.random();e.ripples("drop",t,n,i,o),this.timer=setInterval((function(){e=r("#ripple__bg"),t=Math.random()*e.outerWidth(),n=Math.random()*e.outerHeight(),i=20,o=.04+.04*Math.random(),e.ripples("drop",t,n,i,o)}),3500)}},{key:"stopTimer",value:function(){clearInterval(this.timer)}},{key:"resetContent",value:function(e){var t=r(".ripple__title__1")[0],n=r(".ripple__text__1")[0],i=r(".ripple__title__2")[0],o=r(".ripple__title__3")[0],a=r(".ripple__text__2")[0],s=r(".ripple__text__3")[0],l=r(".ripple__production")[0],c=r(".ripple__bg")[0];t.classList.remove("animation_"+(e+1)),n.classList.remove("animation_"+(e+1)),i.classList.remove("animation_"+(e+1)),o.classList.remove("animation_"+(e+1)),a.classList.remove("animation_"+(e+1)),s.classList.remove("animation_"+(e+1)),l.classList.remove("animation_"+(e+1)),c.classList.remove("animation_"+(e+1))}}])&&He(n.prototype,i),a&&He(n,a),t}(s);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e,t,n){return(Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=We(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze,qe=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=Ne(this,We(t).call(this,e))).smController=n,r.content=r.htmlElement.querySelector(".app_section_content"),r.content_flow=r.htmlElement.querySelector(".app_section_content_flow"),r.triggerScenes=[],r.triggerNodes=r.htmlElement.querySelectorAll(".trigger"),r}var n,i,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(t,e),n=t,(i=[{key:"resizeHandler",value:function(){var e=this;this.contentScene&&this.contentScene.duration(this.htmlElement.clientHeight),this.triggerScenes&&this.triggerScenes.length&&Array.apply(null,this.triggerNodes).map((function(t,n){e.triggerScenes[n].duration(t.clientHeight)})),Be(We(t.prototype),"resizeHandler",this).call(this)}},{key:"createScrollEffect",value:function(){var e=this;this.contentScene=new o.a.Scene({triggerElement:this.content,triggerHook:0,duration:this.htmlElement.clientHeight}).setPin(this.content).addTo(this.smController),Array.apply(null,this.triggerNodes).map((function(t,n){var r=new o.a.Scene({triggerElement:t,triggerHook:0,duration:t.clientHeight}).on("enter",(function(t){return e.animateContent(n)})).on("leave",(function(t){return e.resetContent(n)})).addTo(e.smController);e.triggerScenes.push(r)}))}},{key:"animateContent",value:function(e){r(".app_section_content_flow")[0].classList.add("animation_"+(e+1))}},{key:"resetContent",value:function(e){r(".app_section_content_flow")[0].classList.remove("animation_"+(e+1))}}])&&Me(n.prototype,i),a&&Me(n,a),t}(s);n("PZhx");function Ye(e){window.innerWidth/window.innerHeight>1920/1320?r(".container_w1920").css({width:"100%",height:"100%"}):r(".container_w1920").css({width:"145vh",height:"100%"}),$e&&$e.length&&$e.map((function(e){e.target.resizeHandler()}))}r((function(){window.innerWidth/window.innerHeight>1920/1320?r(".container_w1920").css({width:"100%",height:"100%"}):r(".container_w1920").css({width:"145vh",height:"100%"}),ze=new o.a.Controller,$e.map((function(e){var t=new(0,e.class)(document.querySelector(e.tagName),ze);console.log(t),t.createScrollEffect(),e.target=t})),r(window).on("resize",Ye),r(".menu").on("click",(function(){r(".menu-btn").trigger("click")})),r(".line_form").hide(),AddressSeleclList.Initialize("select__city","select__area","選擇縣市","選擇區域");var e="";function t(){3,r(".form__step1").hide(),r(".form__step2").hide(),r(".form__step3").show(),r(".line_form").show();var e=r("#form").offset().top+window.innerHeight;r("html, body").animate({scrollTop:e},50)}r("#button__addr").on("click",(function(){r(".form__step1").hide(),r(".form__step2").show(),2})),r("#select__area").change((function(){})),r("#button__confirm").on("click",(function(){var t=r("[name=store]:checked");e=r("label[for="+t.val()+"]")[0].innerText,r("#form__addr").val(e),r(".form__step1").show(),r(".form__step2").hide(),1})),r("#button__reset").on("click",(function(){})),r("#button__submit").on("click",(function(){r("#form__name").val(),r("#btform").trigger("click"),t()})),r("#resent__msg").on("click",(function(){})),r(".ig__btn, .ig__btn2").on("click",(function(){})),r(window).scroll((function(){var e=r(this).scrollTop();e>window.innerHeight&&e<r(".feature__bg--skin").offset().top-window.innerHeight?(r(".cta").addClass("fix"),r(".cta").fadeIn()):r(".cta").removeClass("fix")}))}));var $e=[{tagName:"#kv",class:p,target:null},{tagName:"#kaleidoscope",class:ce,target:null},{tagName:"#videoIntro",class:w,target:null},{tagName:"#video",class:H,target:null},{tagName:"#model",class:N,target:null},{tagName:"#afterModel",class:me,target:null},{tagName:"#feature",class:Se,target:null},{tagName:"#slogan",class:Ae,target:null},{tagName:"#ripple",class:Fe,target:null},{tagName:"#form",class:qe,target:null}]},SrvH:function(e,t){e.exports=canvas},UHLH:function(e,t,n){var r,i,o,a;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(e){"use strict";var t,n=(e=e&&"default"in e?e.default:e)(window);function r(e){return"%"==e[e.length-1]}function i(e,n,r){function i(e,n){var r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("compile error: "+t.getShaderInfoLog(r));return r}var o={};if(o.id=t.createProgram(),t.attachShader(o.id,i(t.VERTEX_SHADER,e)),t.attachShader(o.id,i(t.FRAGMENT_SHADER,n)),t.linkProgram(o.id),!t.getProgramParameter(o.id,t.LINK_STATUS))throw new Error("link error: "+t.getProgramInfoLog(o.id));o.uniforms={},o.locations={},t.useProgram(o.id),t.enableVertexAttribArray(0);for(var a,s,l=/uniform (\w+) (\w+)/g,c=e+n;null!=(a=l.exec(c));)s=a[2],o.locations[s]=t.getUniformLocation(o.id,s);return o}function o(e,n){t.activeTexture(t.TEXTURE0+(n||0)),t.bindTexture(t.TEXTURE_2D,e)}function a(e){var t=/url\(["']?([^"']*)["']?\)/.exec(e);return null==t?null:t[1]}var l=function(){var e=document.createElement("canvas");if(!(t=e.getContext("webgl")||e.getContext("experimental-webgl")))return null;var n={};if(["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear"].forEach((function(e){var r=t.getExtension(e);r&&(n[e]=r)})),!n.OES_texture_float)return null;var r=[];function i(e,t,r){var i="OES_texture_"+e,o=i+"_linear",a=o in n,s=[i];return a&&s.push(o),{type:t,arrayType:r,linearSupport:a,extensions:s}}r.push(i("float",t.FLOAT,Float32Array)),n.OES_texture_half_float&&r.push(i("half_float",n.OES_texture_half_float.HALF_FLOAT_OES,null));var o=t.createTexture(),a=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,a),t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);for(var s=null,l=0;l<r.length;l++)if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,32,32,0,t.RGBA,r[l].type,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0),t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE){s=r[l];break}return s}(),c=function(e,t){try{return new ImageData(e,t)}catch(n){return document.createElement("canvas").getContext("2d").createImageData(e,t)}}(32,32);e("head").prepend("<style>.jquery-ripples { position: relative; z-index: 0; }</style>");var u=function(n,r){var i=this;this.$el=e(n),this.interactive=r.interactive,this.resolution=r.resolution,this.textureDelta=new Float32Array([1/this.resolution,1/this.resolution]),this.perturbance=r.perturbance,this.dropRadius=r.dropRadius,this.crossOrigin=r.crossOrigin,this.imageUrl=r.imageUrl;var o=document.createElement("canvas");o.width=this.$el.innerWidth(),o.height=this.$el.innerHeight(),this.canvas=o,this.$canvas=e(o),this.$canvas.css({position:"absolute",left:0,top:0,right:0,bottom:0,zIndex:-1}),this.$el.addClass("jquery-ripples").append(o),this.context=t=o.getContext("webgl")||o.getContext("experimental-webgl"),l.extensions.forEach((function(e){t.getExtension(e)})),this.updateSize=this.updateSize.bind(this),e(window).on("resize",this.updateSize),this.textures=[],this.framebuffers=[],this.bufferWriteIndex=0,this.bufferReadIndex=1;for(var a=l.arrayType,s=a?new a(this.resolution*this.resolution*4):null,c=0;c<2;c++){var u=t.createTexture(),f=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,f),t.bindTexture(t.TEXTURE_2D,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,l.linearSupport?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,l.linearSupport?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.resolution,this.resolution,0,t.RGBA,l.type,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,u,0),this.textures.push(u),this.framebuffers.push(f)}this.quad=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.quad),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.initShaders(),this.initTexture(),this.setTransparentTexture(),this.loadImage(),t.clearColor(0,0,0,0),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.visible=!0,this.running=!0,this.inited=!0,this.destroyed=!1,this.setupPointerEvents(),requestAnimationFrame((function e(){i.destroyed||(i.step(),requestAnimationFrame(e))}))};u.DEFAULTS={imageUrl:null,resolution:256,dropRadius:20,perturbance:.03,interactive:!0,crossOrigin:""},u.prototype={setupPointerEvents:function(){var e=this;function t(t,n){e.visible&&e.running&&e.interactive&&e.dropAtPointer(t,e.dropRadius*(n?1.5:1),n?.14:.01)}this.$el.on("mousemove.ripples",(function(e){t(e)})).on("touchmove.ripples touchstart.ripples",(function(e){for(var n=e.originalEvent.changedTouches,r=0;r<n.length;r++)t(n[r])})).on("mousedown.ripples",(function(e){t(e,!0)}))},loadImage:function(){var e=this;t=this.context;var n=this.imageUrl||a(this.originalCssBackgroundImage)||a(this.$el.css("backgroundImage"));if(n!=this.imageSource)if(this.imageSource=n,this.imageSource){var r=new Image;r.onload=function(){function n(e){return 0==(e&e-1)}t=e.context;var i=n(r.width)&&n(r.height)?t.REPEAT:t.CLAMP_TO_EDGE;t.bindTexture(t.TEXTURE_2D,e.backgroundTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),e.backgroundWidth=r.width,e.backgroundHeight=r.height,e.hideCssBackground()},r.onerror=function(){t=e.context,e.setTransparentTexture()},r.crossOrigin=this.imageSource.match(/^data:/)?null:this.crossOrigin,r.src=this.imageSource}else this.setTransparentTexture()},step:function(){t=this.context,this.visible&&(this.computeTextureBoundaries(),this.running&&this.update(),this.render())},drawQuad:function(){t.bindBuffer(t.ARRAY_BUFFER,this.quad),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,0),t.drawArrays(t.TRIANGLE_FAN,0,4)},render:function(){t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,this.canvas.width,this.canvas.height),t.enable(t.BLEND),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.useProgram(this.renderProgram.id),o(this.backgroundTexture,0),o(this.textures[0],1),t.uniform1f(this.renderProgram.locations.perturbance,this.perturbance),t.uniform2fv(this.renderProgram.locations.topLeft,this.renderProgram.uniforms.topLeft),t.uniform2fv(this.renderProgram.locations.bottomRight,this.renderProgram.uniforms.bottomRight),t.uniform2fv(this.renderProgram.locations.containerRatio,this.renderProgram.uniforms.containerRatio),t.uniform1i(this.renderProgram.locations.samplerBackground,0),t.uniform1i(this.renderProgram.locations.samplerRipples,1),this.drawQuad(),t.disable(t.BLEND)},update:function(){t.viewport(0,0,this.resolution,this.resolution),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffers[this.bufferWriteIndex]),o(this.textures[this.bufferReadIndex]),t.useProgram(this.updateProgram.id),this.drawQuad(),this.swapBufferIndices()},swapBufferIndices:function(){this.bufferWriteIndex=1-this.bufferWriteIndex,this.bufferReadIndex=1-this.bufferReadIndex},computeTextureBoundaries:function(){var e,t=this.$el.css("background-size"),i=this.$el.css("background-attachment"),o=function(e){var t=e.split(" ");if(1!==t.length)return t.map((function(t){switch(e){case"center":return"50%";case"top":case"left":return"0";case"right":case"bottom":return"100%";default:return t}}));switch(e){case"center":return["50%","50%"];case"top":return["50%","0"];case"bottom":return["50%","100%"];case"left":return["0","50%"];case"right":return["100%","50%"];default:return[e,"50%"]}}(this.$el.css("background-position"));if("fixed"==i?((e={left:window.pageXOffset,top:window.pageYOffset}).width=n.width(),e.height=n.height()):((e=this.$el.offset()).width=this.$el.innerWidth(),e.height=this.$el.innerHeight()),"cover"==t)var a=Math.max(e.width/this.backgroundWidth,e.height/this.backgroundHeight),s=this.backgroundWidth*a,l=this.backgroundHeight*a;else"contain"==t?(a=Math.min(e.width/this.backgroundWidth,e.height/this.backgroundHeight),s=this.backgroundWidth*a,l=this.backgroundHeight*a):(s=(t=t.split(" "))[0]||"",l=t[1]||s,r(s)?s=e.width*parseFloat(s)/100:"auto"!=s&&(s=parseFloat(s)),r(l)?l=e.height*parseFloat(l)/100:"auto"!=l&&(l=parseFloat(l)),"auto"==s&&"auto"==l?(s=this.backgroundWidth,l=this.backgroundHeight):("auto"==s&&(s=this.backgroundWidth*(l/this.backgroundHeight)),"auto"==l&&(l=this.backgroundHeight*(s/this.backgroundWidth))));var c=o[0],u=o[1];c=r(c)?e.left+(e.width-s)*parseFloat(c)/100:e.left+parseFloat(c),u=r(u)?e.top+(e.height-l)*parseFloat(u)/100:e.top+parseFloat(u);var f=this.$el.offset();this.renderProgram.uniforms.topLeft=new Float32Array([(f.left-c)/s,(f.top-u)/l]),this.renderProgram.uniforms.bottomRight=new Float32Array([this.renderProgram.uniforms.topLeft[0]+this.$el.innerWidth()/s,this.renderProgram.uniforms.topLeft[1]+this.$el.innerHeight()/l]);var h=Math.max(this.canvas.width,this.canvas.height);this.renderProgram.uniforms.containerRatio=new Float32Array([this.canvas.width/h,this.canvas.height/h])},initShaders:function(){var e=["attribute vec2 vertex;","varying vec2 coord;","void main() {","coord = vertex * 0.5 + 0.5;","gl_Position = vec4(vertex, 0.0, 1.0);","}"].join("\n");this.dropProgram=i(e,["precision highp float;","const float PI = 3.141592653589793;","uniform sampler2D texture;","uniform vec2 center;","uniform float radius;","uniform float strength;","varying vec2 coord;","void main() {","vec4 info = texture2D(texture, coord);","float drop = max(0.0, 1.0 - length(center * 0.5 + 0.5 - coord) / radius);","drop = 0.5 - cos(drop * PI) * 0.5;","info.r += drop * strength;","gl_FragColor = info;","}"].join("\n")),this.updateProgram=i(e,["precision highp float;","uniform sampler2D texture;","uniform vec2 delta;","varying vec2 coord;","void main() {","vec4 info = texture2D(texture, coord);","vec2 dx = vec2(delta.x, 0.0);","vec2 dy = vec2(0.0, delta.y);","float average = (","texture2D(texture, coord - dx).r +","texture2D(texture, coord - dy).r +","texture2D(texture, coord + dx).r +","texture2D(texture, coord + dy).r",") * 0.25;","info.g += (average - info.r) * 2.0;","info.g *= 0.995;","info.r += info.g;","gl_FragColor = info;","}"].join("\n")),t.uniform2fv(this.updateProgram.locations.delta,this.textureDelta),this.renderProgram=i(["precision highp float;","attribute vec2 vertex;","uniform vec2 topLeft;","uniform vec2 bottomRight;","uniform vec2 containerRatio;","varying vec2 ripplesCoord;","varying vec2 backgroundCoord;","void main() {","backgroundCoord = mix(topLeft, bottomRight, vertex * 0.5 + 0.5);","backgroundCoord.y = 1.0 - backgroundCoord.y;","ripplesCoord = vec2(vertex.x, -vertex.y) * containerRatio * 0.5 + 0.5;","gl_Position = vec4(vertex.x, -vertex.y, 0.0, 1.0);","}"].join("\n"),["precision highp float;","uniform sampler2D samplerBackground;","uniform sampler2D samplerRipples;","uniform vec2 delta;","uniform float perturbance;","varying vec2 ripplesCoord;","varying vec2 backgroundCoord;","void main() {","float height = texture2D(samplerRipples, ripplesCoord).r;","float heightX = texture2D(samplerRipples, vec2(ripplesCoord.x + delta.x, ripplesCoord.y)).r;","float heightY = texture2D(samplerRipples, vec2(ripplesCoord.x, ripplesCoord.y + delta.y)).r;","vec3 dx = vec3(delta.x, heightX - height, 0.0);","vec3 dy = vec3(0.0, heightY - height, delta.y);","vec2 offset = -normalize(cross(dy, dx)).xz;","float specular = pow(max(0.0, dot(offset, normalize(vec2(-0.6, 1.0)))), 4.0);","gl_FragColor = texture2D(samplerBackground, backgroundCoord + offset * perturbance) + specular;","}"].join("\n")),t.uniform2fv(this.renderProgram.locations.delta,this.textureDelta)},initTexture:function(){this.backgroundTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.backgroundTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,1),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR)},setTransparentTexture:function(){t.bindTexture(t.TEXTURE_2D,this.backgroundTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,c)},hideCssBackground:function(){var e=this.$el[0].style.backgroundImage;"none"!=e&&(this.originalInlineCss=e,this.originalCssBackgroundImage=this.$el.css("backgroundImage"),this.$el.css("backgroundImage","none"))},restoreCssBackground:function(){this.$el.css("backgroundImage",this.originalInlineCss||"")},dropAtPointer:function(e,t,n){var r=parseInt(this.$el.css("border-left-width"))||0,i=parseInt(this.$el.css("border-top-width"))||0;this.drop(e.pageX-this.$el.offset().left-r,e.pageY-this.$el.offset().top-i,t,n)},drop:function(e,n,r,i){t=this.context;var a=this.$el.innerWidth(),s=this.$el.innerHeight(),l=Math.max(a,s);r/=l;var c=new Float32Array([(2*e-a)/l,(s-2*n)/l]);t.viewport(0,0,this.resolution,this.resolution),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffers[this.bufferWriteIndex]),o(this.textures[this.bufferReadIndex]),t.useProgram(this.dropProgram.id),t.uniform2fv(this.dropProgram.locations.center,c),t.uniform1f(this.dropProgram.locations.radius,r),t.uniform1f(this.dropProgram.locations.strength,i),this.drawQuad(),this.swapBufferIndices()},updateSize:function(){var e=this.$el.innerWidth(),t=this.$el.innerHeight();e==this.canvas.width&&t==this.canvas.height||(this.canvas.width=e,this.canvas.height=t)},destroy:function(){this.$el.off(".ripples").removeClass("jquery-ripples").removeData("ripples"),t=null,e(window).off("resize",this.updateSize),this.$canvas.remove(),this.restoreCssBackground(),this.destroyed=!0},show:function(){this.visible=!0,this.$canvas.show(),this.hideCssBackground()},hide:function(){this.visible=!1,this.$canvas.hide(),this.restoreCssBackground()},pause:function(){this.running=!1},play:function(){this.running=!0},set:function(e,t){switch(e){case"dropRadius":case"perturbance":case"interactive":case"crossOrigin":this[e]=t;break;case"imageUrl":this.imageUrl=t,this.loadImage()}}};var f=e.fn.ripples;e.fn.ripples=function(t){if(!l)throw new Error("Your browser does not support WebGL, the OES_texture_float extension or rendering to floating point textures.");var n=arguments.length>1?Array.prototype.slice.call(arguments,1):void 0;return this.each((function(){var r=e(this),i=r.data("ripples"),o=e.extend({},u.DEFAULTS,r.data(),"object"==s(t)&&t);(i||"string"!=typeof t)&&(i?"string"==typeof t&&u.prototype[t].apply(i,n):r.data("ripples",i=new u(this,o)))}))},e.fn.ripples.Constructor=u,e.fn.ripples.noConflict=function(){return e.fn.ripples=f,this}},"object"===s(t)&&void 0!==e?a(n("GtyH")):(i=[n("GtyH")],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))}});
//# sourceMappingURL=app.0595567e.js.map