!function(e){function t(t){for(var s,o,c=t[0],l=t[1],r=t[2],_=0,p=[];_<c.length;_++)o=c[_],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);for(d&&d(t);p.length;)p.shift()();return n.push.apply(n,r||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,c=1;c<i.length;c++){var l=i[c];0!==a[l]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=i[0]))}return e}var s={},a={0:0},n=[];function o(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=s,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(i,s,function(t){return e[t]}.bind(null,s));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var r=0;r<c.length;r++)t(c[r]);var d=l;n.push(["QfWi",2]),i()}({QfWi:function(e,t,i){"use strict";i.r(t);var s=i("GpIB"),a=i.n(s),n=i("5Cmw"),o=i.n(n),c=i("+J7m"),l=i("GtyH"),r=i.n(l);i("i1PZ"),i("yt/C");function d(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.getData()}var t,i,s;return t=e,(i=[{key:"getData",value:function(){var e=new XMLHttpRequest;e.open("get",this.app.host+"api/news",!0),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.responseText).data;for(var i in t){r()(".cal-slider").append('<div class="news-page__cal-item text-center"><div class="news-page__cal-item--link year-btn" data-year="'+i+'">'+i+"</div></div>");for(var s=0;s<t[i].length;s++){for(var a,n=0;n<t[i][s].medias.length;n++)a+='<img class="img__slider__img" src="'+this.app.host+t[i][s].medias[n].path+'" alt=""/>';"1"==t[i][s].type?r()(".news-page__content").append('<div class="news-page__item" data-year="'+i+'"><div class="row"><div class="col-12 col-lg-3"><div class="img__slider">'+a+'</div></div><div class="col-12 col-lg-9"><h3 class="item__title">'+t[i][s].title+'</h3><p class="item__date">'+t[i][s].publish_date+'</p><div class="item__text">'+t[i][s].content_desc+"</div></div></div>"):r()(".albums-page__content").append('<div class="albums-page__item" data-year="'+i+'"><div class="row"><div class="col-12"><div class="img__slider">'+a+'</div></div><div class="col-12"><h3 class="item__title text-center">'+t[i][s].title+'</h3><p class="item__date text-center">'+t[i][s].publish_date+'</p><div class="item__text text-center">'+t[i][s].content_desc+"</div></div></div>")}}this.init()}}.bind(this)}},{key:"init",value:function(){r()(".year-btn").click((function(){var e=r()(this).data("year");console.log(r()(this).data("year")),r()(".news-page__item, .albums-page__item").hide(),r()(".news-page__item, .albums-page__item[data-year="+e+"]").show(),r()(".img__slider").slick("setPosition")})),this.setSlider()}},{key:"setSlider",value:function(){r()(".img__slider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,prevArrow:!1,nextArrow:!1,dots:!0}),r()(".cal-slider").slick({infinite:!0,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:567,settings:{slidesToShow:1,slidesToScroll:1}}]})}},{key:"refreshSlder",value:function(){r()(".img__slider").slick("setPosition"),r()(".cal-slider").slick("setPosition")}},{key:"hashchange",value:function(e){this.refreshSlder()}}])&&d(t.prototype,i),s&&d(t,s),e}();function p(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.getData()}var t,i,s;return t=e,(i=[{key:"getData",value:function(){var e,t=new XMLHttpRequest;t.open("get",this.app.host+"api/products",!0),t.send(),t.onload=function(){if(200==t.status){e=JSON.parse(t.responseText),console.log(e);for(var i=0;i<e.data.length;i++)switch(e.data[i].category){case"1":r()(".sub1 .production__box").append('<div class="col-6 col-md-4 col-lg-3 production-index__box"><div class="item"><div class="item__img"><img src="'+this.app.host+e.data[i].medias[0].path+'" /></div><div class="item__info"><span class="item__info__num text-center">'+e.data[i].title+'</span><span class="item__info__price text-center">$'+e.data[i].price+"</span></div></div></div>");break;case"2":r()(".sub2 .production__box").append('<div class="col-6 col-md-4 col-lg-3 production-index__box"><div class="item"><div class="item__img"><img src="'+this.app.host+e.data[i].medias[0].path+'" /></div><div class="item__info"><span class="item__info__num text-center">'+e.data[i].title+'</span><span class="item__info__price text-center">$'+e.data[i].price+"</span></div></div></div>");break;case"3":for(var s="",a=0;a<e.data[i].medias.length;a++)s+='<img src="'+this.app.host+e.data[i].medias[a].path+'"/>';r()(".sub3 .production__box").append('<div class="item__box row"><div class="col-6 img__slider">'+s+'</div><div class="col-6 production__box__info"><h3 class="info__title">'+e.data[i].title+'</h3><div class="info__detail">'+e.data[i].content_desc+"</div></div></div>");break;case"4":for(s="",a=0;a<e.data[i].medias.length;a++)s+='<img src="'+this.app.host+e.data[i].medias[a].path+'"/>';r()(".sub4 .production__box").append('<div class="item__box row"><div class="col-6 img__slider">'+s+'</div><div class="col-6 production__box__info"><h3 class="info__title">'+e.data[i].title+'</h3><div class="info__detail">'+e.data[i].content_desc+"</div></div></div>");break;case"5":for(s="",a=0;a<e.data[i].medias.length;a++)s+='<img src="'+this.app.host+e.data[i].medias[a].path+'"/>';r()(".sub5 .production__box").append('<div class="item__box row" data-type="'+e.data[i].sub_category+'"><div class="col-6 img__slider">'+s+'</div><div class="col-6 production__box__info"><h3 class="info__title">'+e.data[i].title+'</h3><div class="info__detail">'+e.data[i].content_desc+"</div></div></div>");break;case"6":for(s="",a=0;a<e.data[i].medias.length;a++)s+='<img src="'+this.app.host+e.data[i].medias[a].path+'"/>';r()(".sub6 .production__box").append('<div class="item__box row" data-type="'+e.data[i].sub_category+'"><div class="col-6 img__slider">'+s+'</div><div class="col-6 production__box__info"><h3 class="info__title">'+e.data[i].title+'</h3><div class="info__detail">'+e.data[i].content_desc+"</div></div></div>");break;case"7":r()(".sub7 .production__box").append('<div class="col-6 col-md-4 col-lg-3 production-index__box"><div class="item"><div class="item__img"><img src="'+this.app.host+e.data[i].medias[0].path+'" /></div><div class="item__info"><span class="item__info__num text-center">'+e.data[i].title+'</span><span class="item__info__price text-center">$'+e.data[i].price+"</span></div></div></div>");break;case"8":r()(".sub8 .production__box").append('<div class="col-6 col-md-4 col-lg-3 production-index__box"><div class="item"><div class="item__img"><img src="'+this.app.host+e.data[i].medias[0].path+'" /></div><div class="item__info text-center"><span class="item__info__title text-center">'+e.data[i].title+"</span></div></div></div>");break;case"9":r()(".sub9 .production__box").append('<div class="col-6 col-md-4 col-lg-3 production-index__box"><div class="item"><div class="item__img"><img src="'+this.app.host+e.data[i].medias[0].path+'" /></div><div class="item__info text-center"><span class="item__info__title text-center">'+e.data[i].title+"</span></div></div></div>");break;case"10":r()(".sub10 .production__box").append('<div class="col-6 col-md-4 col-lg-3 production-index__box"><div class="item"><div class="item__img"><img src="'+this.app.host+e.data[i].medias[0].path+'" /></div><div class="item__info text-center"><span class="item__info__title text-center">'+e.data[i].title+"</span></div></div></div>")}this.init()}}.bind(this)}},{key:"init",value:function(){this.setSlider(),r()(".sub_btn").click((function(){r()(".production-index__box, .item__box").hide(),r()(".production-index__box, .item__box[data-type="+r()(this).data("sub")+"]").show()}))}},{key:"setSlider",value:function(){r()(".img__slider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,prevArrow:!1,nextArrow:!1,dots:!0})}},{key:"hashchange",value:function(){}}])&&p(t.prototype,i),s&&p(t,s),e}();function v(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var h=!1,m=!1,f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.getNewsData(),this.getProductionData()}var t,i,s;return t=e,(i=[{key:"getProductionData",value:function(){var e,t=new XMLHttpRequest;t.open("get",this.app.host+"api/products",!0),t.send(),t.onload=function(){if(200==t.status){e=JSON.parse(t.responseText);for(var i=0;i<e.data.length;i++)1==e.data[i].is_special&&(console.log(e.data[i]),r()(".production__slider").append('<div class="production__slider__item item"><div class="item__img"><img src="'+this.app.host+e.data[i].medias[0].path+'" /></div><div class="item__info"><span class="item__info__num text-center">'+e.data[i].title+'</span><span class="item__info__price text-center">$'+e.data[i].price+"</span></div></div>"));m=!0,1==h&&1==m&&this.init()}else console.log("error",t.error)}.bind(this)}},{key:"getNewsData",value:function(){var e,t=new XMLHttpRequest;t.open("get",this.app.host+"api/news/index",!0),t.send(),t.onload=function(){if(200==t.status){e=JSON.parse(t.responseText),console.log(e.data);for(var i=0;i<e.data.length;i++)r()(".news__slider").append('<div class="news__slider__item item"><div class="item__img"><img src="'+this.app.host+e.data[i].medias[0].path+'" /></div><h5 class="item__title">'+e.data[i].title+'</h5><div class="item__text">'+e.data[i].content_desc+'</div><span class="item__cal">'+e.data[i].publish_date+'</span><button class="button news__button" onclick="javascript:location.href=\'news.html\'">Read More</button></div>')}1==(h=!0)&&1==m&&this.init()}.bind(this)}},{key:"init",value:function(){this.fontResize(),this.setSlider()}},{key:"fontResize",value:function(){r()(".production__slider__item .item__info__num").each((function(){r()(this).text().length>10&&r()(this).css("font-size","0.9rem")}))}},{key:"setSlider",value:function(){r()(".kv-slider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1}),r()(".news__slider").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,dots:!1,prevArrow:!1,nextArrow:!1,responsive:[{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:567,settings:{slidesToShow:1,slidesToScroll:1}}]}),r()(".news .slick-prev").click((function(){r()(".news__slider").slick("slickPrev")})),r()(".news .slick-next").click((function(){r()(".news__slider").slick("slickNext")})),r()(".production__slider").slick({infinite:!0,slidesPerRow:4,rows:2,dots:!1,prevArrow:!1,nextArrow:!1,responsive:[{breakpoint:1200,settings:{slidesPerRow:3,rows:2}},{breakpoint:992,settings:{slidesPerRow:2,rows:2}},{breakpoint:567,settings:{slidesPerRow:1,rows:1}}]}),r()(".production .slick-prev").click((function(){r()(".production__slider").slick("slickPrev")})),r()(".production .slick-next").click((function(){r()(".production__slider").slick("slickNext")}))}},{key:"hashchange",value:function(){}}])&&v(t.prototype,i),s&&v(t,s),e}();function g(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var b,w,k,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.getData()}var t,i,s;return t=e,(i=[{key:"getData",value:function(){var e=new XMLHttpRequest;e.open("get",this.app.host+"api/albums",!0),e.send(),e.onload=function(){if(200==e.status){var t=JSON.parse(e.responseText).data;for(var i in t){r()(".cal-slider").append('<div class="cooperation-page__cal-item text-center"><div class="cooperation-page__cal-item--link year-btn" data-year="'+i+'">'+i+"</div></div>");for(var s=0;s<t[i].length;s++){var a;console.log(t[i][s]);for(var n=0;n<t[i][s].medias.length;n++)a+='<img class="img__slider__img" src="'+this.app.host+t[i][s].medias[n].path+'" alt=""/>';r()(".cooperation-page__content .row").append('<div class="col-12 col-lg-8 offset-lg-2"><div class="img__slider">'+a+'</div><h5 class="page-content__title text-center">'+t[i][s].title+'</h5><p class="page-content__text text-center">'+t[i][s].year+"</p></div>")}}this.init()}}.bind(this)}},{key:"init",value:function(){r()(".year-btn").click((function(){var e=r()(this).data("year");console.log(r()(this).data("year")),r()(".news-page__item, .albums-page__item").hide(),r()(".news-page__item, .albums-page__item[data-year="+e+"]").show(),r()(".img__slider").slick("setPosition")})),this.setSlider()}},{key:"setSlider",value:function(){r()(".img__slider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,prevArrow:!1,nextArrow:!1,dots:!0}),r()(".cal-slider").slick({infinite:!0,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:567,settings:{slidesToShow:1,slidesToScroll:1}}]})}},{key:"refreshSlder",value:function(){r()(".img__slider").slick("setPosition"),r()(".cal-slider").slick("setPosition")}},{key:"hashchange",value:function(e){this.refreshSlder()}}])&&g(t.prototype,i),s&&g(t,s),e}();function x(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}i("NnlS");var S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i,s;return t=e,(i=[{key:"init",value:function(){this.browser=Object(c.a)(),this.page="",this.host="http://ec2-54-238-37-155.ap-northeast-1.compute.amazonaws.com/",k=this.host,this.initPages(),this.initNav(),this.addListeners(),this.animate(),this.initSlider(),this.initContact()}},{key:"initContact",value:function(){r()(".contact .button").click((function(){var e={name:r()(".contact__name").val(),phone:r()(".contact__tel").val(),email:r()(".contact__email").val(),subject:r()(".contact__select").val(),content:r()(".contact__question").val()};console.log(e),r.a.ajax({type:"post",async:!1,dataType:"json",url:k+"api/contactus/new",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:e,success:function(e){},statusCode:{200:function(e){alert("已完成送出")},400:function(e){var t=JSON.parse(e.responseText);console.log(t.msg);var i="",s=t.msg;for(var a in s)i+=s[a];console.log(i),alert("error:"+i)}}})}))}},{key:"initPages",value:function(){var e=window.location.pathname;switch(b=e.split("/").pop()){case"":case"index.html":this.indexContent=new f(this);break;case"news.html":this.news=new _(this);break;case"production.html":this.production=new u(this);break;case"cooperation.html":this.cooperation=new y(this)}w=window.location.hash.substr(1),this.showPage();var t=window.location.href;-1!=t.indexOf("?")&&t.split("?")[1].split("&")[0].split("=")[1]}},{key:"initNav",value:function(){r()(".nav__submenu").removeClass("is-active"),r()(".nav__item").hover((function(){r()(".nav__item").hasClass("is-active")&&(r()(".nav__item").removeClass("is-active"),r()(".nav__submenu").removeClass("is-active")),r()(this).addClass("is-active"),0!==r()(this).children("ul.sub__nav__content").length&&r()(".nav__submenu").addClass("is-active")}),(function(){r()(".nav__item").removeClass("is-active"),r()(".nav__submenu").removeClass("is-active"),r()(".nav__item").each((function(){r()(this).children("a").attr("href")==b&&(r()(this).addClass("is-active"),0!==r()(this).children("ul.sub__nav__content").length&&r()(".nav__submenu").addClass("is-active"))}))})),r()(".nav__item").each((function(){r()(this).children("a").attr("href")==b&&(r()(this).addClass("is-active"),0!==r()(this).children("ul.sub__nav__content").length&&r()(".nav__submenu").addClass("is-active"))})),r()(".hamburger").click((function(){r()(".hamburger").hasClass("is-active")?(r()(".hamburger").removeClass("is-active"),r()(".nav__content").removeClass("is-active"),r()(".nav__shop").removeClass("is-active")):(r()(".hamburger").addClass("is-active"),r()(".nav__content").addClass("is-active"),r()(".nav__shop").addClass("is-active"))}))}},{key:"initSlider",value:function(){}},{key:"initStats",value:function(){this.stats=new o.a,this.stats.showPanel(0),document.body.appendChild(this.stats.dom)}},{key:"addListeners",value:function(){this.handlerAnimate=this.animate.bind(this),window.addEventListener("resize",this.resize.bind(this)),window.addEventListener("keyup",this.keyup.bind(this)),window.addEventListener("mousemove",this.mousemove.bind(this)),window.addEventListener("click",this.click.bind(this)),window.addEventListener("mouseup",this.mouseup.bind(this)),window.addEventListener("touchend",this.mouseup.bind(this)),window.addEventListener("hashchange",this.funcRef.bind(this),!1)}},{key:"animate",value:function(){this.stats&&this.stats.begin(),this.update(),this.stats&&this.stats.end(),this.raf=requestAnimationFrame(this.handlerAnimate)}},{key:"update",value:function(){}},{key:"funcRef",value:function(){w=window.location.hash.substr(1),this.showPage(),this.news&&this.news.hashchange(w)}},{key:"showPage",value:function(){""!=w?(r()(".page-content").hide(),r()(".page-content."+w).show()):(r()(".page-content").hide(),r()(".page-content.index").show()),(window.opera?"CSS1Compat"==document.compatMode?r()("html"):r()("body"):r()("html,body")).animate({scrollTop:0},600)}},{key:"resize",value:function(){}},{key:"keyup",value:function(e){}},{key:"mouseup",value:function(e){}},{key:"mousemove",value:function(e){}},{key:"click",value:function(e){}}])&&x(t.prototype,i),s&&x(t,s),e}();i("NnlS"),i("/vdT"),i("C7J+");a()((function(){window.app=new S,window.app.init()}))}});
//# sourceMappingURL=app.c3f7553e.js.map