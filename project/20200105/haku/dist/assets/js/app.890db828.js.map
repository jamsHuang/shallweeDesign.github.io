{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./sections/AbstractElement.js","webpack:///./sections/KVSection.js","webpack:///./sections/VideoIntroSection.js","webpack:///./components/kaleidoscope.js","webpack:///./sections/ModelSection.js","webpack:///./sections/KaleSection.js","webpack:///./sections/AfterModelSection.js","webpack:///./sections/FeatureSection.js","webpack:///./sections/SloganSection.js","webpack:///./sections/RippleSection.js","webpack:///./App.js","webpack:///./sections/FormSection.js","webpack:///./components/jquery.ripples-min.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","AbstractElement","htmlElement","this","_htmlElement","resizeHandler","scrollHandler","createScrollEffect","scrollTop","KVSection","smController","content","querySelector","triggerScenes","triggerNodes","querySelectorAll","contentScene","duration","clientHeight","Array","map","item","index","ScrollMagic","Scene","triggerElement","triggerHook","setPin","addTo","triggerScene","on","event","animateContent","resetContent","triggerId","msg","logo","classList","add","remove","VideoIntroSection","vid__title","$","ml","ModelSection","model","title","text","skin","skin__black","deg","moveX","isMobile","navigator","userAgent","match","canvas","document","getElementById","height","innerHeight","innerWidth","width","console","log","css","diagonal","scaleFactor","h","w","rad","ctx","getContext","img","Image","testDraw","kaleidoscope","Math","PI","sin","triangles","offset","triangleClip","Path2D","moveTo","lineTo","cos","vertexAngle","baseAngle","save","translate","rotate","clip","mirror","drawImage","restore","v","x","y","scale","Number","in_min","in_max","out_min","out_max","KaleSection","timer","onload","sqrt","pow","parseInt","addEventListener","src","kale__title1","kale__title2","kale__text","kale__img","startTimer","setInterval","clearInterval","stopTimer","AfterModelSection","afterModel__midbg","afterModel__production","afterModel__title__1","afterModel__text__1","afterModel__title__2","afterModel__arr","afterModel__text__2","show","hide","FeatureSection","feature__model","feature__title__1","feature__text__1","feature__skin","feature__title__2","feature__text__2","feature__title__3","feature__text__3","feature__title__4","feature__text__4","wordcloud","triangle","SloganSection","slogan__model","slogan__title__1","slogan__text__1","slogan__text__2","slogan__title__2","slogan__text__3","slogan__title__3","slogan__text__4","RippleSection","e","target","controller","info","init","ripple__title__1","ripple__text__1","ripple__title__2","ripple__title__3","ripple__text__2","ripple__text__3","ripple__production","ripples","resolution","dropRadius","perturbance","interactive","crossOrigin","imageUrl","$el","random","outerWidth","outerHeight","strength","FormSection","windowResizeHandler","renderArr","Controller","section","CurrentClass","class","tagName","factory","gl","$window","isPercentage","str","createProgram","vertexSource","fragmentSource","uniformValues","compileSource","type","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","Error","getShaderInfoLog","program","id","attachShader","VERTEX_SHADER","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","uniforms","locations","useProgram","enableVertexAttribArray","regex","shaderCode","exec","getUniformLocation","bindTexture","texture","unit","activeTexture","TEXTURE0","TEXTURE_2D","extractUrl","urlMatch","config","createElement","extensions","forEach","extension","getExtension","OES_texture_float","configs","createConfig","glType","arrayType","nameLinear","linearSupport","configExtensions","FLOAT","Float32Array","OES_texture_half_float","HALF_FLOAT_OES","createTexture","framebuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","RGBA","framebufferTexture2D","COLOR_ATTACHMENT0","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","loadConfig","transparentPixels","ImageData","createImageData","prepend","Ripples","el","options","that","textureDelta","$canvas","position","left","top","right","bottom","zIndex","addClass","append","context","updateSize","textures","framebuffers","bufferWriteIndex","bufferReadIndex","textureData","LINEAR","quad","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","initShaders","initTexture","setTransparentTexture","loadImage","clearColor","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","visible","running","inited","destroyed","setupPointerEvents","requestAnimationFrame","step","DEFAULTS","dropAtPointer","pointer","big","touches","originalEvent","changedTouches","newImageSource","originalCssBackgroundImage","imageSource","image","isPowerOfTwo","wrapping","REPEAT","backgroundTexture","UNSIGNED_BYTE","backgroundWidth","backgroundHeight","hideCssBackground","onerror","computeTextureBoundaries","update","render","drawQuad","vertexAttribPointer","drawArrays","TRIANGLE_FAN","viewport","enable","BLEND","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","renderProgram","uniform1f","uniform2fv","topLeft","bottomRight","containerRatio","uniform1i","samplerBackground","samplerRipples","disable","updateProgram","swapBufferIndices","container","backgroundSize","backgroundAttachment","backgroundPosition","parts","split","part","translateBackgroundPosition","pageXOffset","pageYOffset","max","min","parseFloat","backgroundX","backgroundY","elementOffset","maxSide","vertexShader","join","dropProgram","delta","pixelStorei","UNPACK_FLIP_Y_WEBGL","inlineCss","style","backgroundImage","originalInlineCss","restoreCssBackground","radius","borderLeft","borderTop","drop","pageX","pageY","elWidth","elHeight","longestSide","dropPosition","center","newWidth","newHeight","destroy","off","removeClass","removeData","pause","play","set","old","fn","option","args","arguments","undefined","each","$this","extend","Constructor","noConflict","require","define"],"mappings":"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","file":"assets/js/app.890db828.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"SE09\",2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import * as $ from 'jquery';\n\nclass AbstractElement {\n    constructor(htmlElement) {\n        this._htmlElement = htmlElement;\n        this.resizeHandler = this.resizeHandler.bind(this);\n        this.scrollHandler = this.scrollHandler.bind(this);\n        this.createScrollEffect = this.createScrollEffect.bind(this);\n    }\n\n    get htmlElement() {\n        return this._htmlElement\n    }\n\n    scrollHandler(scrollTop) {\n    }\n\n    resizeHandler() {\n    };\n}\n\nexport default AbstractElement;","import AbstractElement from \"./AbstractElement\";\nimport ScrollMagic from \"scrollmagic\";\n\nclass KVSection extends AbstractElement {\n\n    constructor(htmlElement, smController) {\n        super(htmlElement);\n\n        this.smController = smController;\n        this.content = this.htmlElement.querySelector('.app_section_content');\n\n        this.triggerScenes = [];\n        this.triggerNodes = this.htmlElement.querySelectorAll('.trigger');\n    }\n\n    resizeHandler() {\n        if (this.contentScene) {\n            this.contentScene.duration(\n                this.htmlElement.clientHeight\n            );\n        }\n        if (this.triggerScenes && this.triggerScenes.length) {\n            const triggerList = Array.apply(null, this.triggerNodes);\n            triggerList.map((item, index) => {\n                const scene = this.triggerScenes[index];\n                scene.duration(item.clientHeight);\n            });\n        }\n        super.resizeHandler();\n    }\n\n    createScrollEffect() {\n        // content\n        this.contentScene = new ScrollMagic.Scene({\n            triggerElement: this.content,\n            triggerHook: 0,\n            duration: this.htmlElement.clientHeight\n        })\n            .setPin(this.content)\n            .addTo(this.smController);\n\n        // triggers\n        const triggerList = Array.apply(null, this.triggerNodes);\n        triggerList.map((item, index) => {\n            const triggerScene = new ScrollMagic.Scene({\n                triggerElement: item,\n                triggerHook: 0,\n                duration: item.clientHeight\n            })\n                .on('enter', (event) => this.animateContent(index))\n                .on('leave', (event) => this.resetContent(index))\n                .addTo(this.smController);\n\n            //為了ResizeTrigger的長度，push進一個Array備用\n            this.triggerScenes.push(triggerScene);\n        });\n    }\n\n    animateContent(triggerId) {\n        const msg = this.htmlElement.querySelector('.kv__subtitle');\n        const logo = this.htmlElement.querySelector('.kv__logo');\n        msg.classList.add('animation_' + (triggerId + 1));\n        logo.classList.add('animation_' + (triggerId + 1));\n    }\n\n    resetContent(triggerId) {\n        const msg = this.htmlElement.querySelector('.kv__subtitle');\n        const logo = this.htmlElement.querySelector('.kv__logo');\n        msg.classList.remove('animation_' + (triggerId + 1));\n        logo.classList.remove('animation_' + (triggerId + 1));\n    }\n}\n\nexport default KVSection;\n","import * as $ from \"jquery\";\nimport AbstractElement from \"./AbstractElement\";\nimport ScrollMagic from \"scrollmagic\";\n\nclass VideoIntroSection extends AbstractElement {\n    \n\n    constructor(htmlElement, smController) {\n        super(htmlElement);\n        this.smController = smController;\n        this.content = this.htmlElement.querySelector('.app_section_content');\n        this.triggerScenes = [];\n        this.triggerNodes = this.htmlElement.querySelectorAll('.trigger');\n    }\n\n    resizeHandler() {\n        if (this.contentScene) {\n            this.contentScene.duration(\n                this.htmlElement.clientHeight\n            );\n        }\n        if (this.triggerScenes && this.triggerScenes.length) {\n            const triggerList = Array.apply(null, this.triggerNodes);\n            triggerList.map((item, index) => {\n                const scene = this.triggerScenes[index];\n                scene.duration(item.clientHeight);\n            });\n        }\n        super.resizeHandler();\n    }\n\n    createScrollEffect() {\n        // content\n        this.contentScene = new ScrollMagic.Scene({\n            triggerElement: this.content,\n            triggerHook: 0,\n            duration: this.htmlElement.clientHeight\n        })\n            .setPin(this.content)\n            .addTo(this.smController);\n\n        // triggers\n        const triggerList = Array.apply(null, this.triggerNodes);\n        triggerList.map((item, index) => {\n            const triggerScene = new ScrollMagic.Scene({\n                triggerElement: item,\n                triggerHook: 0,\n                duration: item.clientHeight\n            })\n                .on('enter', (event) => this.animateContent(index))\n                .on('leave', (event) => this.resetContent(index))\n                .addTo(this.smController);\n            this.triggerScenes.push(triggerScene);\n        });\n    }\n\n    animateContent(triggerId) {\n        // const msg = this.htmlElement.querySelector('.message');\n        // msg.classList.add('animation_' + (triggerId + 1));\n        const vid__title = $('.videointro__title')[0];\n        const vid__text =  $('.videointro__text')[0];\n        vid__text.classList.add('animation_' + (triggerId + 1));\n        vid__title.classList.add('animation_' + (triggerId + 1));\n    }\n\n    resetContent(triggerId) {\n\n      const vid__title = $('.videointro__title')[0];\n      const vid__text =  $('.videointro__text')[0];\n      vid__text.classList.remove('animation_' + (triggerId + 1));\n      vid__title.classList.remove('animation_' + (triggerId + 1));\n    }\n}\n\nexport default VideoIntroSection;\n","import * as $ from \"jquery\";\n\n//setup global variables\nvar deg = 0;\nvar moveX = 0;\nvar isMobile =  detectmob();\nfunction detectmob() {\n if( navigator.userAgent.match(/Android/i)\n || navigator.userAgent.match(/webOS/i)\n || navigator.userAgent.match(/iPhone/i)\n || navigator.userAgent.match(/iPad/i)\n || navigator.userAgent.match(/iPod/i)\n || navigator.userAgent.match(/BlackBerry/i)\n || navigator.userAgent.match(/Windows Phone/i)\n ){\n    return true;\n  }\n else {\n    return false;\n  }\n}\nvar ml;\nvar canvas = document.getElementById(\"kale\");\n  canvas.height = window.innerHeight * 4 / 3;\n  if (window.innerHeight > window.innerWidth) {\n    canvas.width = window.innerHeight;\n\n  } else {\n    canvas.width = window.innerWidth;\n  }\n\n$(function(){\n  ml = (window.innerWidth - canvas.width) / 2;\n\n  console.log(isMobile);\n  if(isMobile==true){\n    $('#kale').css({\"width\":window.innerWidth+\"px\",\"height\":canvas.height+\"px\",\"margin-left\":0+\"px\"});\n  }else{\n    $('#kale').css({\"width\":canvas.width+\"px\",\"height\":canvas.height+\"px\",\"margin-left\":ml+\"px\"});\n  }\n});\n\n\nvar ctx = canvas.getContext('2d');\nvar img = new Image();\nvar triangles = 8; //amount of triangles for kaleidoscope\nvar diagonal,scaleFactor,h, w, r, rad;\n\n// var event_kai = new Event('drawKai');\n\nexport function testDraw(){\n\n  kaleidoscope(w, h, img, canvas, ctx, triangles, moveX);\n  rad = Math.PI / 180 * deg;\n  moveX = Math.sin(rad) * r;\n  deg += 0.5;\n  //console.log(\"de\",deg);\n  if (deg > 360) {\n    deg = 0;\n  }\n}\nexport function init(){\n// console.log(\"imin\");\n\nimg.onload = function() {\n  diagonal = Math.sqrt(Math.pow(canvas.width, 2) + Math.pow(canvas.height, 2));\n  scaleFactor = img.width / img.height;\n  h = diagonal / 2;\n  w = parseInt(scaleFactor * h);\n  r = w / 8;\n  kaleidoscope(w, h, img, canvas, ctx, triangles, 0);\n\n\n  window.addEventListener('drawKai', function() {\n\n  })\n  //redraw kaleidoscope when window size changes\n  window.addEventListener(\"resize\", function() {\n    // console.log('resize');\n    canvas = document.getElementById(\"kale\");\n    canvas.height = window.innerHeight * 4 / 3;\n    if (window.innerHeight > window.innerWidth) {\n      canvas.width = window.innerHeight;\n\n    } else {\n      canvas.width = window.innerWidth;\n    }\n    // console.log('canvas:',canvas.width);\n    ml = (window.innerWidth - canvas.width) / 2;\n    if(isMobile==true){\n      $('#kale').css({\"width\":window.innerWidth+\"px\",\"height\":canvas.height+\"px\",\"margin-left\":0+\"px\"});\n    }else{\n      $('#kale').css({\"width\":canvas.width+\"px\",\"height\":canvas.height+\"px\",\"margin-left\":ml+\"px\"});\n    }\n    //\n    // window.requestAnimationFrame(function() {\n    //   kaleidoscope(w, h, img, canvas, ctx, triangles, 0);\n    // });\n    diagonal = Math.sqrt(Math.pow(canvas.width, 2) + Math.pow(canvas.height, 2));\n    scaleFactor = img.width / img.height;\n    h = diagonal / 2;\n    w = parseInt(scaleFactor * h);\n  });\n\n}\nimg.src = document.getElementById(\"defaultImg\").src;\n}\n\nexport function draw() {\n  var ctx = canvas.getContext('2d');\n  var img = new Image();\n  var triangles = 8; //amount of triangles for kaleidoscope\n\n  img.onload = function() {\n    var diagonal = Math.sqrt(Math.pow(canvas.width, 2) + Math.pow(canvas.height, 2));\n    var scaleFactor = img.width / img.height;\n    var h = diagonal / 2;\n    var w = parseInt(scaleFactor * h);\n\n    kaleidoscope(w, h, img, canvas, ctx, triangles, 0);\n    var r = w / 8;\n\n    window.addEventListener('drawKai', function() {\n      kaleidoscope(w, h, img, canvas, ctx, triangles, moveX);\n      rad = Math.PI / 180 * deg;\n      moveX = Math.sin(rad) * r;\n      deg += 0.5;\n      //console.log(\"de\",deg);\n      if (deg > 360) {\n        deg = 0;\n      }\n    })\n    //redraw kaleidoscope when window size changes\n    window.addEventListener(\"resize\", function() {\n      // console.log('resize');\n      canvas = document.getElementById(\"kale\");\n      canvas.height = window.innerHeight * 4 / 3;\n      if (window.innerHeight > window.innerWidth) {\n        canvas.width = window.innerHeight;\n\n      } else {\n        canvas.width = window.innerWidth;\n      }\n      // console.log('canvas:',canvas.width);\n      ml = (window.innerWidth - canvas.width) / 2;\n      if(isMobile==true){\n        $('#kale').css({\"width\":window.innerWidth+\"px\",\"height\":canvas.height+\"px\",\"margin-left\":0+\"px\"});\n      }else{\n        $('#kale').css({\"width\":canvas.width+\"px\",\"height\":canvas.height+\"px\",\"margin-left\":ml+\"px\"});\n      }\n      //\n      // window.requestAnimationFrame(function() {\n      //   kaleidoscope(w, h, img, canvas, ctx, triangles, 0);\n      // });\n      diagonal = Math.sqrt(Math.pow(canvas.width, 2) + Math.pow(canvas.height, 2));\n      scaleFactor = img.width / img.height;\n      h = diagonal / 2;\n      w = parseInt(scaleFactor * h);\n    });\n\n  }\n  img.src = document.getElementById(\"defaultImg\").src;\n};\n\nfunction kaleidoscope(w, h, img, canvas, ctx, triangles, offset) {\n  //creates the triangle for the clipping mask\n  var triangleClip = new Path2D();\n  triangleClip.moveTo(0, 0);\n  triangleClip.lineTo(canvas.width, 0);\n  triangleClip.lineTo(canvas.width * Math.cos((Math.PI / 180) * (360 / triangles)), canvas.width * Math.sin((Math.PI / 180) * (360 / triangles)));\n  triangleClip.lineTo(0, 0);\n\n  //gets the angles of the triangleClip\n  var vertexAngle = 360 / triangles;\n  var baseAngle = (180 - vertexAngle) / 2;\n\n  //start drawing triangles\n  for (var i = 0; i < triangles; i++) {\n    ctx.save();\n    ctx.translate(canvas.width / 2, canvas.height / 2);\n    ctx.rotate((Math.PI / 180) * vertexAngle * i);\n    ctx.clip(triangleClip);\n    if (i % 2 === 0) {\n      ctx.rotate(-(Math.PI / 180) * baseAngle);\n      mirror(img, ctx, w / 2 + offset, 0, w, h);\n    } else {\n      ctx.rotate(-(Math.PI / 180) * baseAngle);\n      ctx.drawImage(img, -w / 2 + offset, 0, w, h);\n    }\n    ctx.restore();\n  }\n}\n\nfunction mirror(v, canvas, x, y, width, height) {\n  canvas.save();\n  canvas.scale(-1, 1);\n  canvas.drawImage(v, x, y, width * -1, height);\n  canvas.restore();\n}\n\nNumber.prototype.map = function(in_min, in_max, out_min, out_max) {\n  return (this - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n","import * as $ from \"jquery\";\nimport AbstractElement from \"./AbstractElement\";\nimport ScrollMagic from \"scrollmagic\";\n\nclass ModelSection extends AbstractElement {\n\n      constructor(htmlElement, smController) {\n          super(htmlElement);\n\n          this.smController = smController;\n          this.content = this.htmlElement.querySelector('.app_section_content');\n\n          this.triggerScenes = [];\n          this.triggerNodes = this.htmlElement.querySelectorAll('.trigger');\n      }\n\n      resizeHandler() {\n          if (this.contentScene) {\n              this.contentScene.duration(\n                  this.htmlElement.clientHeight\n              );\n          }\n          if (this.triggerScenes && this.triggerScenes.length) {\n              const triggerList = Array.apply(null, this.triggerNodes);\n              triggerList.map((item, index) => {\n                  const scene = this.triggerScenes[index];\n                  scene.duration(item.clientHeight);\n              });\n          }\n          super.resizeHandler();\n      }\n\n      createScrollEffect() {\n          // content\n          this.contentScene = new ScrollMagic.Scene({\n              triggerElement: this.content,\n              triggerHook: 0,\n              duration: this.htmlElement.clientHeight\n          })\n              .setPin(this.content)\n              .addTo(this.smController);\n\n          // triggers\n          const triggerList = Array.apply(null, this.triggerNodes);\n          triggerList.map((item, index) => {\n              const triggerScene = new ScrollMagic.Scene({\n                  triggerElement: item,\n                  triggerHook: 0,\n                  duration: item.clientHeight\n              })\n                  .on('enter', (event) => this.animateContent(index))\n                  .on('leave', (event) => this.resetContent(index))\n                  .addTo(this.smController);\n\n              //為了ResizeTrigger的長度，push進一個Array備用\n              this.triggerScenes.push(triggerScene);\n          });\n      }\n\n    animateContent(triggerId) {\n        const model = $('.model__woman')[0];\n        const title = $('.model__title')[0];\n        const text = $('.model__text')[0];\n        const skin = $('.model__skin')[0];\n        const skin__black = $('.model__skin__black')[0];\n        model.classList.add('animation_' + (triggerId + 1));\n        title.classList.add('animation_' + (triggerId + 1));\n        text.classList.add('animation_' + (triggerId + 1));\n        skin.classList.add('animation_' + (triggerId + 1));\n        skin__black.classList.add('animation_' + (triggerId + 1));\n    }\n\n    resetContent(triggerId) {\n      const model = $('.model__woman')[0];\n      const title = $('.model__title')[0];\n      const text = $('.model__text')[0];\n      const skin = $('.model__skin')[0];\n      const skin__black = $('.model__skin__black')[0];\n      model.classList.remove('animation_' + (triggerId + 1));\n      title.classList.remove('animation_' + (triggerId + 1));\n      text.classList.remove('animation_' + (triggerId + 1));\n      skin.classList.remove('animation_' + (triggerId + 1));\n      skin__black.classList.remove('animation_' + (triggerId + 1));\n    }\n}\n\nexport default ModelSection;\n","import * as $ from \"jquery\";\nimport AbstractElement from \"./AbstractElement\";\nimport ScrollMagic from \"scrollmagic\";\nimport {init,testDraw} from \"../components/kaleidoscope.js\";\n\nclass KaleSection extends AbstractElement {\n\n      constructor(htmlElement, smController) {\n          super(htmlElement);\n\n          this.smController = smController;\n          this.content = this.htmlElement.querySelector('.app_section_content');\n\n          this.triggerScenes = [];\n          this.triggerNodes = this.htmlElement.querySelectorAll('.trigger');\n\n          this.timer= null;\n      }\n\n\n          resizeHandler() {\n              if (this.contentScene) {\n                  this.contentScene.duration(\n                      this.htmlElement.clientHeight\n                  );\n              }\n              if (this.triggerScenes && this.triggerScenes.length) {\n                  const triggerList = Array.apply(null, this.triggerNodes);\n                  triggerList.map((item, index) => {\n                      const scene = this.triggerScenes[index];\n                      // scene.duration(item.clientHeight);\n                      scene.duration(item.clientHeight+window.innerHeight);\n                  });\n              }\n              super.resizeHandler();\n          }\n\n          createScrollEffect() {\n\n              // triggers\n              const triggerList = Array.apply(null, this.triggerNodes);\n              triggerList.map((item, index) => {\n                  const triggerScene = new ScrollMagic.Scene({\n                      triggerElement: item,\n                      triggerHook: 1,\n                      duration: item.clientHeight + window.innerHeight\n                  })\n                      .on('enter', (event) => this.animateContent(index))\n                      .on('leave', (event) => this.resetContent(index))\n                      .addTo(this.smController);\n\n                  //為了ResizeTrigger的長度，push進一個Array備用\n                  this.triggerScenes.push(triggerScene);\n              });\n              init();\n          }\n\n          animateContent(triggerId) {\n            // const kale__title = this.htmlElement.querySelector('.kale__production__title');\n            const kale__title1 = $('.kale__production__title--1')[0];\n            const kale__title2 = $('.kale__production__title--2')[0];\n            const kale__text = this.htmlElement.querySelector('.kale__production__text');\n            const kale__img = $('.kale__production__img')[0];\n            kale__title1.classList.add('animation_' + (triggerId + 1));\n            kale__title2.classList.add('animation_' + (triggerId + 1));\n            kale__text.classList.add('animation_' + (triggerId + 1));\n            kale__img.classList.add('animation_' + (triggerId + 1));\n              this.startTimer()\n\n          }\n          startTimer(){\n            // testDraw();\n            this.timer = setInterval(testDraw,50);\n\n          }\n          stopTimer(){\n            // console.log('this stop')\n            clearInterval(this.timer);\n          }\n\n          resetContent(triggerId) {\n            this.stopTimer();\n            const kale__title1 = $('.kale__production__title--1')[0];\n            const kale__title2 = $('.kale__production__title--2')[0];\n            const kale__img = $('.kale__production__title--2')[0];\n\n            const kale__text = this.htmlElement.querySelector('.kale__production__text');\n            kale__title1.classList.remove('animation_' + (triggerId + 1));\n            kale__title2.classList.remove('animation_' + (triggerId + 1));\n            kale__text.classList.remove('animation_' + (triggerId + 1));\n            kale__img.classList.remove('animation_' + (triggerId + 1));\n          }\n}\n\nexport default KaleSection;\n","import * as $ from \"jquery\";\nimport AbstractElement from \"./AbstractElement\";\nimport ScrollMagic from \"scrollmagic\";\n\nclass AfterModelSection extends AbstractElement {\n\n    constructor(htmlElement, smController) {\n        super(htmlElement);\n\n        this.smController = smController;\n        this.content = this.htmlElement.querySelector('.app_section_content');\n        this.triggerScenes = [];\n        this.triggerNodes = this.htmlElement.querySelectorAll('.trigger');\n    }\n\n\n    resizeHandler() {\n        if (this.contentScene) {\n            this.contentScene.duration(\n                this.htmlElement.clientHeight - window.innerHeight\n            );\n        }\n        if (this.triggerScenes && this.triggerScenes.length) {\n            const triggerList = Array.apply(null, this.triggerNodes);\n            triggerList.map((item, index) => {\n                const scene = this.triggerScenes[index];\n                scene.duration(item.clientHeight);\n            });\n        }\n        super.resizeHandler();\n    }\n\n    createScrollEffect() {\n        // content\n        this.contentScene = new ScrollMagic.Scene({\n            triggerElement: this.content,\n            triggerHook: 0,\n            duration: this.htmlElement.clientHeight - window.innerHeight\n        })\n            .setPin(this.content)\n            .addTo(this.smController);\n\n        // triggers\n        const triggerList = Array.apply(null, this.triggerNodes);\n        triggerList.map((item, index) => {\n            const triggerScene = new ScrollMagic.Scene({\n                triggerElement: item,\n                triggerHook: 0.5,\n                duration: item.clientHeight\n            })\n                .on('enter', (event) => this.animateContent(index))\n                .on('leave', (event) => this.resetContent(index))\n                .addTo(this.smController);\n            this.triggerScenes.push(triggerScene);\n        });\n    }\n\n    animateContent(triggerId) {\n      const afterModel__midbg = $('.afterModel__midbg')[0];\n      const afterModel__production = $('.afterModel__production')[0];\n      const afterModel__title__1 = $('.afterModel__title__1')[0];\n      const afterModel__text__1 = $('.afterModel__text__1')[0];\n      const afterModel__title__2 = $('.afterModel__title__2')[0];\n      const afterModel__arr = $('.afterModel__arr')[0];\n      const afterModel__text__2 = $('.afterModel__text__2')[0];\n      afterModel__midbg.classList.add('animation_' + (triggerId + 1));\n      afterModel__production.classList.add('animation_' + (triggerId + 1));\n      afterModel__title__1.classList.add('animation_' + (triggerId + 1));\n      afterModel__text__1.classList.add('animation_' + (triggerId + 1));\n      afterModel__title__2.classList.add('animation_' + (triggerId + 1));\n      afterModel__text__2.classList.add('animation_' + (triggerId + 1));\n      afterModel__arr.classList.add('animation_' + (triggerId + 1));\n      if((triggerId+1)>=2){\n        $('.afterModel__arr').show();\n      }else{\n\n        $('.afterModel__arr').hide();\n\n      }\n\n    }\n\n    resetContent(triggerId) {\n      const afterModel__midbg = $('.afterModel__midbg')[0];\n      const afterModel__production = $('.afterModel__production')[0];\n      const afterModel__title__1 = $('.afterModel__title__1')[0];\n      const afterModel__text__1 = $('.afterModel__text__1')[0];\n      const afterModel__title__2 = $('.afterModel__title__2')[0];\n      const afterModel__arr = $('.afterModel__arr')[0];\n      const afterModel__text__2 = $('.afterModel__text__2')[0];\n      afterModel__midbg.classList.remove('animation_' + (triggerId + 1));\n      afterModel__production.classList.remove('animation_' + (triggerId + 1));\n      afterModel__title__1.classList.remove('animation_' + (triggerId + 1));\n      afterModel__text__1.classList.remove('animation_' + (triggerId + 1));\n      afterModel__title__2.classList.remove('animation_' + (triggerId + 1));\n      afterModel__text__2.classList.remove('animation_' + (triggerId + 1));\n      afterModel__arr.classList.remove('animation_' + (triggerId + 1));\n    }\n}\n\nexport default AfterModelSection;\n","import * as $ from \"jquery\";\nimport * as gsap from \"gsap\";\nimport AbstractElement from \"./AbstractElement\";\nimport ScrollMagic from \"scrollmagic\";\n\nclass FeatureSection extends AbstractElement {\n\n    constructor(htmlElement, smController) {\n        super(htmlElement);\n\n        this.smController = smController;\n        this.content = this.htmlElement.querySelector('.app_section_content');\n        this.triggerScenes = [];\n        this.triggerNodes = this.htmlElement.querySelectorAll('.trigger');\n    }\n\n\n    resizeHandler() {\n        if (this.contentScene) {\n            this.contentScene.duration(\n                this.htmlElement.clientHeight - window.innerHeight\n            );\n        }\n        if (this.triggerScenes && this.triggerScenes.length) {\n            const triggerList = Array.apply(null, this.triggerNodes);\n            triggerList.map((item, index) => {\n                const scene = this.triggerScenes[index];\n                scene.duration(item.clientHeight);\n            });\n        }\n        super.resizeHandler();\n    }\n\n    createScrollEffect() {\n        // content\n        this.contentScene = new ScrollMagic.Scene({\n            triggerElement: this.content,\n            triggerHook: 0,\n            duration: this.htmlElement.clientHeight - window.innerHeight\n        })\n            .setPin(this.content)\n            .addTo(this.smController);\n\n        // triggers\n        const triggerList = Array.apply(null, this.triggerNodes);\n        triggerList.map((item, index) => {\n            const triggerScene = new ScrollMagic.Scene({\n                triggerElement: item,\n                triggerHook: 0,\n                duration: item.clientHeight\n            })\n                .on('enter', (event) => this.animateContent(index))\n                .on('leave', (event) => this.resetContent(index))\n                .addTo(this.smController);\n            this.triggerScenes.push(triggerScene);\n        });\n    }\n\n    animateContent(triggerId) {\n      const feature__model = $('.feature__model')[0];\n      const feature__title__1 = $('.feature__title__1')[0];\n      const feature__text__1 = $('.feature__text__1')[0];\n      const feature__skin = $('.feature__bg--skin')[0];\n      const feature__title__2 = $('.feature__title__2')[0];\n      const feature__text__2 = $('.feature__text__2')[0];\n      const feature__title__3 = $('.feature__title__3')[0];\n      const feature__text__3 = $('.feature__text__3')[0];\n      const feature__title__4 = $('.feature__title__4')[0];\n      const feature__text__4 = $('.feature__text__4')[0];\n      const wordcloud = $('.wordcloud')[0];\n      const triangle = $('.feature__triangle')[0];\n      feature__model.classList.add('animation_' + (triggerId + 1));\n      feature__title__1.classList.add('animation_' + (triggerId + 1));\n      feature__text__1.classList.add('animation_' + (triggerId + 1));\n      feature__skin.classList.add('animation_' + (triggerId + 1));\n      feature__title__2.classList.add('animation_' + (triggerId + 1));\n      feature__text__2.classList.add('animation_' + (triggerId + 1));\n      feature__title__3.classList.add('animation_' + (triggerId + 1));\n      feature__text__3.classList.add('animation_' + (triggerId + 1));\n      feature__title__4.classList.add('animation_' + (triggerId + 1));\n      feature__text__4.classList.add('animation_' + (triggerId + 1));\n      wordcloud.classList.add('animation_' + (triggerId + 1));\n      triangle.classList.add('animation_' + (triggerId + 1));\n      for(var i=0;i<$('.wordcloud_text').length;i++){\n        $('.wordcloud_text_'+i)[0].classList.add('animation_' + (triggerId + 1));\n      }\n\n      // if((triggerId+1 == 4)){\n      //   var tween1 = gsap.TweenMax.To($('.wordcloud_text'),{opacity:0.7});\n      // }else if((triggerId+1 == 5)){\n      //   var tween2 = gsap.TweenMax.To($('.wordcloud_text'),{scale:0.5})\n      // }else if((triggerId+1 == 6)){\n      //   var tween3 = gsap.TweenMax.To($('.wordcloud_text'),{opacity:0,scale:0})\n      // }\n    }\n\n    resetContent(triggerId) {\n      const feature__model = $('.feature__model')[0];\n      const feature__title__1 = $('.feature__title__1')[0];\n      const feature__text__1 = $('.feature__text__1')[0];\n      const feature__skin = $('.feature__bg--skin')[0];\n      const feature__title__2 = $('.feature__title__2')[0];\n      const feature__text__2 = $('.feature__text__2')[0];\n      const feature__title__3 = $('.feature__title__3')[0];\n      const feature__text__3 = $('.feature__text__3')[0];\n      const feature__title__4 = $('.feature__title__4')[0];\n      const feature__text__4 = $('.feature__text__4')[0];\n      const wordcloud = $('.wordcloud')[0];\n      const triangle = $('.feature__triangle')[0];\n      feature__model.classList.remove('animation_' + (triggerId + 1));\n      feature__title__1.classList.remove('animation_' + (triggerId + 1));\n      feature__text__1.classList.remove('animation_' + (triggerId + 1));\n      feature__skin.classList.remove('animation_' + (triggerId + 1));\n      feature__title__2.classList.remove('animation_' + (triggerId + 1));\n      feature__text__2.classList.remove('animation_' + (triggerId + 1));\n      feature__title__3.classList.remove('animation_' + (triggerId + 1));\n      feature__text__3.classList.remove('animation_' + (triggerId + 1));\n      feature__title__4.classList.remove('animation_' + (triggerId + 1));\n      feature__text__4.classList.remove('animation_' + (triggerId + 1));\n      wordcloud.classList.remove('animation_' + (triggerId + 1));\n      triangle.classList.remove('animation_' + (triggerId + 1));\n      for(var i=0;i<$('.wordcloud_text').length;i++){\n        $('.wordcloud_text_'+i)[0].classList.remove('animation_' + (triggerId + 1));\n      }\n    }\n}\n\nexport default FeatureSection;\n","import * as $ from \"jquery\";\nimport AbstractElement from \"./AbstractElement\";\nimport ScrollMagic from \"scrollmagic\";\n\nclass SloganSection extends AbstractElement {\n\n      constructor(htmlElement, smController) {\n          super(htmlElement);\n\n          this.smController = smController;\n          this.content = this.htmlElement.querySelector('.app_section_content');\n\n          this.triggerScenes = [];\n          this.triggerNodes = this.htmlElement.querySelectorAll('.trigger');\n      }\n\n      resizeHandler() {\n          if (this.contentScene) {\n              this.contentScene.duration(\n                  this.htmlElement.clientHeight\n              );\n          }\n          if (this.triggerScenes && this.triggerScenes.length) {\n              const triggerList = Array.apply(null, this.triggerNodes);\n              triggerList.map((item, index) => {\n                  const scene = this.triggerScenes[index];\n                  scene.duration(item.clientHeight);\n              });\n          }\n          super.resizeHandler();\n      }\n\n      createScrollEffect() {\n          // content\n          this.contentScene = new ScrollMagic.Scene({\n              triggerElement: this.content,\n              triggerHook: 0,\n              duration: this.htmlElement.clientHeight\n          })\n              .setPin(this.content)\n              .addTo(this.smController);\n\n          // triggers\n          const triggerList = Array.apply(null, this.triggerNodes);\n          triggerList.map((item, index) => {\n              const triggerScene = new ScrollMagic.Scene({\n                  triggerElement: item,\n                  triggerHook: 0.5,\n                  duration: item.clientHeight\n              })\n                  .on('enter', (event) => this.animateContent(index))\n                  .on('leave', (event) => this.resetContent(index))\n                  .addTo(this.smController);\n\n              //為了ResizeTrigger的長度，push進一個Array備用\n              this.triggerScenes.push(triggerScene);\n          });\n      }\n\n    animateContent(triggerId) {\n        const slogan__model = $('.slogan__model')[0];\n        const slogan__title__1 = $('.slogan__title__1')[0];\n        const slogan__text__1 = $('.slogan__text__1')[0];\n        const slogan__text__2 = $('.slogan__text__2')[0];\n        const slogan__title__2 = $('.slogan__title__2')[0];\n        const slogan__text__3 = $('.slogan__text__3')[0];\n        const slogan__title__3 = $('.slogan__title__3')[0];\n        const slogan__text__4 = $('.slogan__text__4')[0];\n        slogan__model.classList.add('animation_' + (triggerId + 1));\n        slogan__title__1.classList.add('animation_' + (triggerId + 1));\n        slogan__text__1.classList.add('animation_' + (triggerId + 1));\n        slogan__text__2.classList.add('animation_' + (triggerId + 1));\n        slogan__title__2.classList.add('animation_' + (triggerId + 1));\n        slogan__text__3.classList.add('animation_' + (triggerId + 1));\n        slogan__title__3.classList.add('animation_' + (triggerId + 1));\n        slogan__text__4.classList.add('animation_' + (triggerId + 1));\n    }\n\n    resetContent(triggerId) {\n      const slogan__model = $('.slogan__model')[0];\n      const slogan__title__1 = $('.slogan__title__1')[0];\n      const slogan__text__1 = $('.slogan__text__1')[0];\n      const slogan__text__2 = $('.slogan__text__2')[0];\n      const slogan__title__2 = $('.slogan__title__2')[0];\n      const slogan__text__3 = $('.slogan__text__3')[0];\n      const slogan__title__3 = $('.slogan__title__3')[0];\n      const slogan__text__4 = $('.slogan__text__4')[0];\n      slogan__model.classList.remove('animation_' + (triggerId + 1));\n      slogan__title__1.classList.remove('animation_' + (triggerId + 1));\n      slogan__text__1.classList.remove('animation_' + (triggerId + 1));\n      slogan__text__2.classList.remove('animation_' + (triggerId + 1));\n      slogan__title__2.classList.remove('animation_' + (triggerId + 1));\n      slogan__text__3.classList.remove('animation_' + (triggerId + 1));\n      slogan__title__3.classList.remove('animation_' + (triggerId + 1));\n      slogan__text__4.classList.remove('animation_' + (triggerId + 1));\n    }\n}\n\nexport default SloganSection;\n","import * as $ from \"jquery\";\nimport AbstractElement from \"./AbstractElement\";\nimport ScrollMagic from \"scrollmagic\";\nimport {ripples} from \"../components/jquery.ripples-min.js\";\n\nvar dir=\"\";\n\nclass RippleSection extends AbstractElement {\n\n  constructor(htmlElement, smController) {\n    super(htmlElement);\n\n    this.smController = smController;\n    this.content = this.htmlElement.querySelector('.app_section_content');\n\n    this.triggerScenes = [];\n    this.triggerNodes = this.htmlElement.querySelectorAll('.trigger');\n\n  }\n\n  resizeHandler() {\n    if (this.contentScene) {\n      this.contentScene.duration(\n        this.htmlElement.clientHeight\n      );\n    }\n    if (this.triggerScenes && this.triggerScenes.length) {\n      const triggerList = Array.apply(null, this.triggerNodes);\n      triggerList.map((item, index) => {\n        const scene = this.triggerScenes[index];\n        scene.duration(item.clientHeight);\n      });\n    }\n    super.resizeHandler();\n  }\n  createScrollEffect() {\n    // content\n    this.contentScene = new ScrollMagic.Scene({\n        triggerElement: this.content,\n        triggerHook: 0,\n        duration: this.htmlElement.clientHeight\n      })\n      .on('enter', (event) => this.startTimer())\n      .on('leave', (event) => this.stopTimer())\n      .setPin(this.content)\n      .addTo(this.smController);\n\n    // triggers\n    const triggerList = Array.apply(null, this.triggerNodes);\n    triggerList.map((item, index) => {\n      const triggerScene = new ScrollMagic.Scene({\n          triggerElement: item,\n          triggerHook: 0,\n          duration: item.clientHeight\n        })\n        .on(\"update\", function(e) {\n          if (e.target.controller().info(\"scrollDirection\") == \"FORWARD\") {\n            // console.log(\"forward\")\n            dir = \"FORWARD\";\n            // console.log(this.dir);\n          } else {\n            dir = \"REVERSE\";\n          };\n        })\n        .on('enter', (event) => this.animateContent(index))\n        .on('leave', (event) => this.resetContent(index))\n        .addTo(this.smController);\n\n      //為了ResizeTrigger的長度，push進一個Array備用\n      this.triggerScenes.push(triggerScene);\n    });\n    this.init();\n\n  }\n\n  animateContent(triggerId) {\n    //\n    // console.log(dir);\n    // if (dir == \"FORWARD\") {\n    //\n    // } else {\n    //   triggerId = this.triggerScenes.length - triggerId - 1;\n    //   console.log(this.triggerScenes.length);\n    // }\n\n    console.log(\"triggerId\", triggerId);\n    const ripple__title__1 = $('.ripple__title__1')[0];\n    const ripple__text__1 = $('.ripple__text__1')[0];\n    const ripple__title__2 = $('.ripple__title__2')[0];\n    const ripple__title__3 = $('.ripple__title__3')[0];\n    const ripple__text__2 = $('.ripple__text__2')[0];\n    const ripple__text__3 = $('.ripple__text__3')[0];\n    const ripple__production = $('.ripple__production')[0];\n    ripple__title__1.classList.add('animation_' + (triggerId + 1));\n    ripple__text__1.classList.add('animation_' + (triggerId + 1));\n    ripple__title__2.classList.add('animation_' + (triggerId + 1));\n    ripple__title__3.classList.add('animation_' + (triggerId + 1));\n    ripple__text__2.classList.add('animation_' + (triggerId + 1));\n    ripple__text__3.classList.add('animation_' + (triggerId + 1));\n    ripple__production.classList.add('animation_' + (triggerId + 1));\n  }\n  init() {\n    $('#ripple__bg').ripples({\n      resolution: 256,\n      dropRadius: 25,\n      perturbance: 0.04,\n      interactive: false,\n      crossOrigin: \"Anonymous\",\n      imageUrl: $('.ripple__img').src\n    });\n  }\n  startTimer() {\n    var $el = $('#ripple__bg');\n    var x = Math.random() * $el.outerWidth();\n    var y = Math.random() * $el.outerHeight();\n    var dropRadius = 20;\n    var strength = 0.04 + Math.random() * 0.04;\n\n    $el.ripples('drop', x, y, dropRadius, strength);\n    this.timer = setInterval(function() {\n      $el = $('#ripple__bg');\n      x = Math.random() * $el.outerWidth();\n      y = Math.random() * $el.outerHeight();\n      dropRadius = 20;\n      strength = 0.04 + Math.random() * 0.04;\n\n      $el.ripples('drop', x, y, dropRadius, strength);\n      // console.log('a');\n    }, 3500);\n  }\n  stopTimer() {\n    // console.log('this stop')\n    clearInterval(this.timer);\n  }\n\n  resetContent(triggerId) {\n\n    // if (dir == \"FORWARD\") {\n    //\n    // } else {\n    //   triggerId = this.triggerScenes.length - triggerId - 1;\n    //   console.log(this.triggerScenes.length);\n    // }\n    const ripple__title__1 = $('.ripple__title__1')[0];\n    const ripple__text__1 = $('.ripple__text__1')[0];\n    const ripple__title__2 = $('.ripple__title__2')[0];\n    const ripple__title__3 = $('.ripple__title__3')[0];\n    const ripple__text__2 = $('.ripple__text__2')[0];\n    const ripple__text__3 = $('.ripple__text__3')[0];\n    const ripple__production = $('.ripple__production')[0];\n    ripple__title__1.classList.remove('animation_' + (triggerId + 1));\n    ripple__text__1.classList.remove('animation_' + (triggerId + 1));\n    ripple__title__2.classList.remove('animation_' + (triggerId + 1));\n    ripple__title__3.classList.remove('animation_' + (triggerId + 1));\n    ripple__text__2.classList.remove('animation_' + (triggerId + 1));\n    ripple__text__3.classList.remove('animation_' + (triggerId + 1));\n    ripple__production.classList.remove('animation_' + (triggerId + 1));\n\n  }\n}\n\nexport default RippleSection;\n","import * as $ from 'jquery';\nimport ScrollMagic from 'scrollmagic';\nimport KVSection from \"./sections/KVSection\";\nimport VideoIntroSection from \"./sections/VideoIntroSection\";\nimport ModelSection from \"./sections/ModelSection\";\nimport KaleSection from \"./sections/KaleSection\";\nimport AfterModelSection from \"./sections/AfterModelSection\";\nimport FeatureSection from \"./sections/FeatureSection\";\nimport SloganSection from \"./sections/SloganSection\";\nimport RippleSection from \"./sections/RippleSection\";\nimport FormSection from \"./sections/FormSection\";\n\n$(function () {\n\n    if((window.innerWidth/window.innerHeight) > (1920/1320)){\n      $('.container_w1920').css({\"width\":\"100%\",\"height\":\"100%\"});\n\n    }else{\n      $('.container_w1920').css({\"width\":\"145vh\",\"height\":\"100%\"});\n    }\n    createScrollController();\n    createSection();\n\n    $(window).on('resize', windowResizeHandler);\n});\n\nfunction windowResizeHandler(e) {\n\n  if((window.innerWidth/window.innerHeight) > (1920/1320)){\n\n      $('.container_w1920').css({\"width\":\"100%\",\"height\":\"100%\"});\n\n  }else{\n    $('.container_w1920').css({\"width\":\"145vh\",\"height\":\"100%\"});\n  }\n    if (renderArr && renderArr.length) {\n        renderArr.map(item => {\n            item.target.resizeHandler();\n        });\n    }\n}\n\n\n/*\n* ScrollMagic Controller\n* */\nlet controller;\n\nfunction createScrollController() {\n    controller = new ScrollMagic.Controller();\n}\n\n\n/*\n* Create Sections\n* */\nconst renderArr = [\n    {tagName: '#kv', class: KVSection, target: null},\n    {tagName: '#kaleidoscope', class: KaleSection, target: null},\n    {tagName: '#videoIntro', class: VideoIntroSection, target: null},\n    {tagName: '#model', class: ModelSection, target: null},\n    {tagName: '#afterModel', class: AfterModelSection, target: null},\n    {tagName: '#feature', class: FeatureSection, target: null},\n    {tagName: '#slogan', class: SloganSection, target: null},\n    {tagName: '#ripple', class: RippleSection, target: null},\n    {tagName: '#form', class: FormSection, target: null},\n];\n\nfunction createSection() {\n    renderArr.map((item) => {\n        const CurrentClass = item.class;\n        const section = new CurrentClass(document.querySelector(item.tagName), controller);\n        console.log(section);\n        section.createScrollEffect();\n        item.target = section;\n    });\n}\n","import * as $ from \"jquery\";\nimport AbstractElement from \"./AbstractElement\";\nimport ScrollMagic from \"scrollmagic\";\n\nclass FormSection extends AbstractElement {\n\n      constructor(htmlElement, smController) {\n          super(htmlElement);\n\n          this.smController = smController;\n          this.content = this.htmlElement.querySelector('.app_section_content');\n\n          this.triggerScenes = [];\n          this.triggerNodes = this.htmlElement.querySelectorAll('.trigger');\n      }\n\n      resizeHandler() {\n          if (this.contentScene) {\n              this.contentScene.duration(\n                  this.htmlElement.clientHeight\n              );\n          }\n          if (this.triggerScenes && this.triggerScenes.length) {\n              const triggerList = Array.apply(null, this.triggerNodes);\n              triggerList.map((item, index) => {\n                  const scene = this.triggerScenes[index];\n                  scene.duration(item.clientHeight);\n              });\n          }\n          super.resizeHandler();\n      }\n\n      createScrollEffect() {\n          // content\n          this.contentScene = new ScrollMagic.Scene({\n              triggerElement: this.content,\n              triggerHook: 0,\n              duration: this.htmlElement.clientHeight\n          })\n              .setPin(this.content)\n              .addTo(this.smController);\n\n          // triggers\n          const triggerList = Array.apply(null, this.triggerNodes);\n          triggerList.map((item, index) => {\n              const triggerScene = new ScrollMagic.Scene({\n                  triggerElement: item,\n                  triggerHook: 0,\n                  duration: item.clientHeight\n              })\n                  .on('enter', (event) => this.animateContent(index))\n                  .on('leave', (event) => this.resetContent(index))\n                  .addTo(this.smController);\n\n              //為了ResizeTrigger的長度，push進一個Array備用\n              this.triggerScenes.push(triggerScene);\n          });\n      }\n\n    animateContent(triggerId) {\n        // const slogan__model = $('.slogan__model')[0];\n        // const slogan__title__1 = $('.slogan__title__1')[0];\n        // const slogan__text__1 = $('.slogan__text__1')[0];\n        // const slogan__text__2 = $('.slogan__text__2')[0];\n        // const slogan__title__2 = $('.slogan__title__2')[0];\n        // const slogan__text__3 = $('.slogan__text__3')[0];\n        // const slogan__title__3 = $('.slogan__title__3')[0];\n        // const slogan__text__4 = $('.slogan__text__4')[0];\n        // slogan__model.classList.add('animation_' + (triggerId + 1));\n        // slogan__title__1.classList.add('animation_' + (triggerId + 1));\n        // slogan__text__1.classList.add('animation_' + (triggerId + 1));\n        // slogan__text__2.classList.add('animation_' + (triggerId + 1));\n        // slogan__title__2.classList.add('animation_' + (triggerId + 1));\n        // slogan__text__3.classList.add('animation_' + (triggerId + 1));\n        // slogan__title__3.classList.add('animation_' + (triggerId + 1));\n        // slogan__text__4.classList.add('animation_' + (triggerId + 1));\n    }\n\n    resetContent(triggerId) {\n      // const slogan__model = $('.slogan__model')[0];\n      // const slogan__title__1 = $('.slogan__title__1')[0];\n      // const slogan__text__1 = $('.slogan__text__1')[0];\n      // const slogan__text__2 = $('.slogan__text__2')[0];\n      // const slogan__title__2 = $('.slogan__title__2')[0];\n      // const slogan__text__3 = $('.slogan__text__3')[0];\n      // const slogan__title__3 = $('.slogan__title__3')[0];\n      // const slogan__text__4 = $('.slogan__text__4')[0];\n      // slogan__model.classList.remove('animation_' + (triggerId + 1));\n      // slogan__title__1.classList.remove('animation_' + (triggerId + 1));\n      // slogan__text__1.classList.remove('animation_' + (triggerId + 1));\n      // slogan__text__2.classList.remove('animation_' + (triggerId + 1));\n      // slogan__title__2.classList.remove('animation_' + (triggerId + 1));\n      // slogan__text__3.classList.remove('animation_' + (triggerId + 1));\n      // slogan__title__3.classList.remove('animation_' + (triggerId + 1));\n      // slogan__text__4.classList.remove('animation_' + (triggerId + 1));\n    }\n}\n\nexport default FormSection;\n","\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(require('jquery')) :\n\ttypeof define === 'function' && define.amd ? define(['jquery'], factory) :\n\t(factory(global.$));\n}(this, (function ($) { 'use strict';\n\n$ = $ && 'default' in $ ? $['default'] : $;\n\nvar gl;\nvar $window = $(window); // There is only one window, so why not cache the jQuery-wrapped window?\n\nfunction isPercentage(str) {\n\treturn str[str.length - 1] == '%';\n}\n\n/**\n *  Load a configuration of GL settings which the browser supports.\n *  For example:\n *  - not all browsers support WebGL\n *  - not all browsers support floating point textures\n *  - not all browsers support linear filtering for floating point textures\n *  - not all browsers support rendering to floating point textures\n *  - some browsers *do* support rendering to half-floating point textures instead.\n */\nfunction loadConfig() {\n\tvar canvas = document.createElement('canvas');\n\tgl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n\n\tif (!gl) {\n\t\t// Browser does not support WebGL.\n\t\treturn null;\n\t}\n\n\t// Load extensions\n\tvar extensions = {};\n\t[\n\t\t'OES_texture_float',\n\t\t'OES_texture_half_float',\n\t\t'OES_texture_float_linear',\n\t\t'OES_texture_half_float_linear'\n\t].forEach(function(name) {\n\t\tvar extension = gl.getExtension(name);\n\t\tif (extension) {\n\t\t\textensions[name] = extension;\n\t\t}\n\t});\n\n\t// If no floating point extensions are supported we can bail out early.\n\tif (!extensions.OES_texture_float) {\n\t\treturn null;\n\t}\n\n\tvar configs = [];\n\n\tfunction createConfig(type, glType, arrayType) {\n\t\tvar name = 'OES_texture_' + type,\n\t\t\t\tnameLinear = name + '_linear',\n\t\t\t\tlinearSupport = nameLinear in extensions,\n\t\t\t\tconfigExtensions = [name];\n\n\t\tif (linearSupport) {\n\t\t\tconfigExtensions.push(nameLinear);\n\t\t}\n\n\t\treturn {\n\t\t\ttype: glType,\n\t\t\tarrayType: arrayType,\n\t\t\tlinearSupport: linearSupport,\n\t\t\textensions: configExtensions\n\t\t};\n\t}\n\n\tconfigs.push(\n\t\tcreateConfig('float', gl.FLOAT, Float32Array)\n\t);\n\n\tif (extensions.OES_texture_half_float) {\n\t\tconfigs.push(\n\t\t\t// Array type should be Uint16Array, but at least on iOS that breaks. In that case we\n\t\t\t// just initialize the textures with data=null, instead of data=new Uint16Array(...).\n\t\t\t// This makes initialization a tad slower, but it's still negligible.\n\t\t\tcreateConfig('half_float', extensions.OES_texture_half_float.HALF_FLOAT_OES, null)\n\t\t);\n\t}\n\n\t// Setup the texture and framebuffer\n\tvar texture = gl.createTexture();\n\tvar framebuffer = gl.createFramebuffer();\n\n\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\t// Check for each supported texture type if rendering to it is supported\n\tvar config = null;\n\n\tfor (var i = 0; i < configs.length; i++) {\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 32, 32, 0, gl.RGBA, configs[i].type, null);\n\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n\t\tif (gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE) {\n\t\t\tconfig = configs[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn config;\n}\n\nfunction createImageData(width, height) {\n\ttry {\n\t\treturn new ImageData(width, height);\n\t}\n\tcatch (e) {\n\t\t// Fallback for IE\n\t\tvar canvas = document.createElement('canvas');\n\t\treturn canvas.getContext('2d').createImageData(width, height);\n\t}\n}\n\nfunction translateBackgroundPosition(value) {\n\tvar parts = value.split(' ');\n\n\tif (parts.length === 1) {\n\t\tswitch (value) {\n\t\t\tcase 'center':\n\t\t\t\treturn ['50%', '50%'];\n\t\t\tcase 'top':\n\t\t\t\treturn ['50%', '0'];\n\t\t\tcase 'bottom':\n\t\t\t\treturn ['50%', '100%'];\n\t\t\tcase 'left':\n\t\t\t\treturn ['0', '50%'];\n\t\t\tcase 'right':\n\t\t\t\treturn ['100%', '50%'];\n\t\t\tdefault:\n\t\t\t\treturn [value, '50%'];\n\t\t}\n\t}\n\telse {\n\t\treturn parts.map(function(part) {\n\t\t\tswitch (value) {\n\t\t\t\tcase 'center':\n\t\t\t\t\treturn '50%';\n\t\t\t\tcase 'top':\n\t\t\t\tcase 'left':\n\t\t\t\t\treturn '0';\n\t\t\t\tcase 'right':\n\t\t\t\tcase 'bottom':\n\t\t\t\t\treturn '100%';\n\t\t\t\tdefault:\n\t\t\t\t\treturn part;\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction createProgram(vertexSource, fragmentSource, uniformValues) {\n\tfunction compileSource(type, source) {\n\t\tvar shader = gl.createShader(type);\n\t\tgl.shaderSource(shader, source);\n\t\tgl.compileShader(shader);\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n\t\t\tthrow new Error('compile error: ' + gl.getShaderInfoLog(shader));\n\t\t}\n\t\treturn shader;\n\t}\n\n\tvar program = {};\n\n\tprogram.id = gl.createProgram();\n\tgl.attachShader(program.id, compileSource(gl.VERTEX_SHADER, vertexSource));\n\tgl.attachShader(program.id, compileSource(gl.FRAGMENT_SHADER, fragmentSource));\n\tgl.linkProgram(program.id);\n\tif (!gl.getProgramParameter(program.id, gl.LINK_STATUS)) {\n\t\tthrow new Error('link error: ' + gl.getProgramInfoLog(program.id));\n\t}\n\n\t// Fetch the uniform and attribute locations\n\tprogram.uniforms = {};\n\tprogram.locations = {};\n\tgl.useProgram(program.id);\n\tgl.enableVertexAttribArray(0);\n\tvar match, name, regex = /uniform (\\w+) (\\w+)/g, shaderCode = vertexSource + fragmentSource;\n\twhile ((match = regex.exec(shaderCode)) != null) {\n\t\tname = match[2];\n\t\tprogram.locations[name] = gl.getUniformLocation(program.id, name);\n\t}\n\n\treturn program;\n}\n\nfunction bindTexture(texture, unit) {\n\tgl.activeTexture(gl.TEXTURE0 + (unit || 0));\n\tgl.bindTexture(gl.TEXTURE_2D, texture);\n}\n\nfunction extractUrl(value) {\n\tvar urlMatch = /url\\([\"']?([^\"']*)[\"']?\\)/.exec(value);\n\tif (urlMatch == null) {\n\t\treturn null;\n\t}\n\n\treturn urlMatch[1];\n}\n\nfunction isDataUri(url) {\n\treturn url.match(/^data:/);\n}\n\nvar config = loadConfig();\nvar transparentPixels = createImageData(32, 32);\n\n// Extend the css\n$('head').prepend('<style>.jquery-ripples { position: relative; z-index: 0; }</style>');\n\n// RIPPLES CLASS DEFINITION\n// =========================\n\nvar Ripples = function (el, options) {\n\tvar that = this;\n\n\tthis.$el = $(el);\n\n\t// Init properties from options\n\tthis.interactive = options.interactive;\n\tthis.resolution = options.resolution;\n\tthis.textureDelta = new Float32Array([1 / this.resolution, 1 / this.resolution]);\n\n\tthis.perturbance = options.perturbance;\n\tthis.dropRadius = options.dropRadius;\n\n\tthis.crossOrigin = options.crossOrigin;\n\tthis.imageUrl = options.imageUrl;\n\n\t// Init WebGL canvas\n\tvar canvas = document.createElement('canvas');\n\tcanvas.width = this.$el.innerWidth();\n\tcanvas.height = this.$el.innerHeight();\n\tthis.canvas = canvas;\n\tthis.$canvas = $(canvas);\n\tthis.$canvas.css({\n\t\tposition: 'absolute',\n\t\tleft: 0,\n\t\ttop: 0,\n\t\tright: 0,\n\t\tbottom: 0,\n\t\tzIndex: -1\n\t});\n\n\tthis.$el.addClass('jquery-ripples').append(canvas);\n\tthis.context = gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n\n\t// Load extensions\n\tconfig.extensions.forEach(function(name) {\n\t\tgl.getExtension(name);\n\t});\n\n\t// Auto-resize when window size changes.\n\tthis.updateSize = this.updateSize.bind(this);\n\t$(window).on('resize', this.updateSize);\n\n\t// Init rendertargets for ripple data.\n\tthis.textures = [];\n\tthis.framebuffers = [];\n\tthis.bufferWriteIndex = 0;\n\tthis.bufferReadIndex = 1;\n\n\tvar arrayType = config.arrayType;\n\tvar textureData = arrayType ? new arrayType(this.resolution * this.resolution * 4) : null;\n\n\tfor (var i = 0; i < 2; i++) {\n\t\tvar texture = gl.createTexture();\n\t\tvar framebuffer = gl.createFramebuffer();\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.resolution, this.resolution, 0, gl.RGBA, config.type, textureData);\n\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n\n\t\tthis.textures.push(texture);\n\t\tthis.framebuffers.push(framebuffer);\n\t}\n\n\t// Init GL stuff\n\tthis.quad = gl.createBuffer();\n\tgl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\n\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n\t\t-1, -1,\n\t\t+1, -1,\n\t\t+1, +1,\n\t\t-1, +1\n\t]), gl.STATIC_DRAW);\n\n\tthis.initShaders();\n\tthis.initTexture();\n\tthis.setTransparentTexture();\n\n\t// Load the image either from the options or CSS rules\n\tthis.loadImage();\n\n\t// Set correct clear color and blend mode (regular alpha blending)\n\tgl.clearColor(0, 0, 0, 0);\n\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n\t// Plugin is successfully initialized!\n\tthis.visible = true;\n\tthis.running = true;\n\tthis.inited = true;\n\tthis.destroyed = false;\n\n\tthis.setupPointerEvents();\n\n\t// Init animation\n\tfunction step() {\n\t\tif (!that.destroyed) {\n\t\t\tthat.step();\n\n\t\t\trequestAnimationFrame(step);\n\t\t}\n\t}\n\n\trequestAnimationFrame(step);\n};\n\nRipples.DEFAULTS = {\n\timageUrl: null,\n\tresolution: 256,\n\tdropRadius: 20,\n\tperturbance: 0.03,\n\tinteractive: true,\n\tcrossOrigin: ''\n};\n\nRipples.prototype = {\n\n\t// Set up pointer (mouse + touch) events\n\tsetupPointerEvents: function() {\n\t\tvar that = this;\n\n\t\tfunction pointerEventsEnabled() {\n\t\t\treturn that.visible && that.running && that.interactive;\n\t\t}\n\n\t\tfunction dropAtPointer(pointer, big) {\n\t\t\tif (pointerEventsEnabled()) {\n\t\t\t\tthat.dropAtPointer(\n\t\t\t\t\tpointer,\n\t\t\t\t\tthat.dropRadius * (big ? 1.5 : 1),\n\t\t\t\t\t(big ? 0.14 : 0.01)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Start listening to pointer events\n\t\tthis.$el\n\n\t\t\t// Create regular, small ripples for mouse move and touch events...\n\t\t\t.on('mousemove.ripples', function(e) {\n\t\t\t\tdropAtPointer(e);\n\t\t\t})\n\t\t\t.on('touchmove.ripples touchstart.ripples', function(e) {\n\t\t\t\tvar touches = e.originalEvent.changedTouches;\n\t\t\t\tfor (var i = 0; i < touches.length; i++) {\n\t\t\t\t\tdropAtPointer(touches[i]);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// ...and only a big ripple on mouse down events.\n\t\t\t.on('mousedown.ripples', function(e) {\n\t\t\t\tdropAtPointer(e, true);\n\t\t\t});\n\t},\n\n\t// Load the image either from the options or the element's CSS rules.\n\tloadImage: function() {\n\t\tvar that = this;\n\n\t\tgl = this.context;\n\n\t\tvar newImageSource = this.imageUrl ||\n\t\t\textractUrl(this.originalCssBackgroundImage) ||\n\t\t\textractUrl(this.$el.css('backgroundImage'));\n\n\t\t// If image source is unchanged, don't reload it.\n\t\tif (newImageSource == this.imageSource) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.imageSource = newImageSource;\n\n\t\t// Falsy source means no background.\n\t\tif (!this.imageSource) {\n\t\t\tthis.setTransparentTexture();\n\t\t\treturn;\n\t\t}\n\n\t\t// Load the texture from a new image.\n\t\tvar image = new Image;\n\t\timage.onload = function() {\n\t\t\tgl = that.context;\n\n\t\t\t// Only textures with dimensions of powers of two can have repeat wrapping.\n\t\t\tfunction isPowerOfTwo(x) {\n\t\t\t\treturn (x & (x - 1)) == 0;\n\t\t\t}\n\n\t\t\tvar wrapping = (isPowerOfTwo(image.width) && isPowerOfTwo(image.height)) ? gl.REPEAT : gl.CLAMP_TO_EDGE;\n\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, that.backgroundTexture);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapping);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapping);\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n\n\t\t\tthat.backgroundWidth = image.width;\n\t\t\tthat.backgroundHeight = image.height;\n\n\t\t\t// Hide the background that we're replacing.\n\t\t\tthat.hideCssBackground();\n\t\t};\n\n\t\t// Fall back to a transparent texture when loading the image failed.\n\t\timage.onerror = function() {\n\t\t\tgl = that.context;\n\n\t\t\tthat.setTransparentTexture();\n\t\t};\n\n\t\t// Disable CORS when the image source is a data URI.\n\t\timage.crossOrigin = isDataUri(this.imageSource) ? null : this.crossOrigin;\n\n\t\timage.src = this.imageSource;\n\t},\n\n\tstep: function() {\n\t\tgl = this.context;\n\n\t\tif (!this.visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.computeTextureBoundaries();\n\n\t\tif (this.running) {\n\t\t\tthis.update();\n\t\t}\n\n\t\tthis.render();\n\t},\n\n\tdrawQuad: function() {\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\n\t\tgl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\n\t\tgl.drawArrays(gl.TRIANGLE_FAN, 0, 4);\n\t},\n\n\trender: function() {\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n\t\tgl.viewport(0, 0, this.canvas.width, this.canvas.height);\n\n\t\tgl.enable(gl.BLEND);\n\t\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n\t\tgl.useProgram(this.renderProgram.id);\n\n\t\tbindTexture(this.backgroundTexture, 0);\n\t\tbindTexture(this.textures[0], 1);\n\n\t\tgl.uniform1f(this.renderProgram.locations.perturbance, this.perturbance);\n\t\tgl.uniform2fv(this.renderProgram.locations.topLeft, this.renderProgram.uniforms.topLeft);\n\t\tgl.uniform2fv(this.renderProgram.locations.bottomRight, this.renderProgram.uniforms.bottomRight);\n\t\tgl.uniform2fv(this.renderProgram.locations.containerRatio, this.renderProgram.uniforms.containerRatio);\n\t\tgl.uniform1i(this.renderProgram.locations.samplerBackground, 0);\n\t\tgl.uniform1i(this.renderProgram.locations.samplerRipples, 1);\n\n\t\tthis.drawQuad();\n\t\tgl.disable(gl.BLEND);\n\t},\n\n\tupdate: function() {\n\t\tgl.viewport(0, 0, this.resolution, this.resolution);\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\n\t\tbindTexture(this.textures[this.bufferReadIndex]);\n\t\tgl.useProgram(this.updateProgram.id);\n\n\t\tthis.drawQuad();\n\n\t\tthis.swapBufferIndices();\n\t},\n\n\tswapBufferIndices: function() {\n\t\tthis.bufferWriteIndex = 1 - this.bufferWriteIndex;\n\t\tthis.bufferReadIndex = 1 - this.bufferReadIndex;\n\t},\n\n\tcomputeTextureBoundaries: function() {\n\t\tvar backgroundSize = this.$el.css('background-size');\n\t\tvar backgroundAttachment = this.$el.css('background-attachment');\n\t\tvar backgroundPosition = translateBackgroundPosition(this.$el.css('background-position'));\n\n\t\t// Here the 'container' is the element which the background adapts to\n\t\t// (either the chrome window or some element, depending on attachment)\n\t\tvar container;\n\t\tif (backgroundAttachment == 'fixed') {\n\t\t\tcontainer = { left: window.pageXOffset, top: window.pageYOffset };\n\t\t\tcontainer.width = $window.width();\n\t\t\tcontainer.height = $window.height();\n\t\t}\n\t\telse {\n\t\t\tcontainer = this.$el.offset();\n\t\t\tcontainer.width = this.$el.innerWidth();\n\t\t\tcontainer.height = this.$el.innerHeight();\n\t\t}\n\n\t\t// TODO: background-clip\n\t\tif (backgroundSize == 'cover') {\n\t\t\tvar scale = Math.max(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\n\n\t\t\tvar backgroundWidth = this.backgroundWidth * scale;\n\t\t\tvar backgroundHeight = this.backgroundHeight * scale;\n\t\t}\n\t\telse if (backgroundSize == 'contain') {\n\t\t\tvar scale = Math.min(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\n\n\t\t\tvar backgroundWidth = this.backgroundWidth * scale;\n\t\t\tvar backgroundHeight = this.backgroundHeight * scale;\n\t\t}\n\t\telse {\n\t\t\tbackgroundSize = backgroundSize.split(' ');\n\t\t\tvar backgroundWidth = backgroundSize[0] || '';\n\t\t\tvar backgroundHeight = backgroundSize[1] || backgroundWidth;\n\n\t\t\tif (isPercentage(backgroundWidth)) {\n\t\t\t\tbackgroundWidth = container.width * parseFloat(backgroundWidth) / 100;\n\t\t\t}\n\t\t\telse if (backgroundWidth != 'auto') {\n\t\t\t\tbackgroundWidth = parseFloat(backgroundWidth);\n\t\t\t}\n\n\t\t\tif (isPercentage(backgroundHeight)) {\n\t\t\t\tbackgroundHeight = container.height * parseFloat(backgroundHeight) / 100;\n\t\t\t}\n\t\t\telse if (backgroundHeight != 'auto') {\n\t\t\t\tbackgroundHeight = parseFloat(backgroundHeight);\n\t\t\t}\n\n\t\t\tif (backgroundWidth == 'auto' && backgroundHeight == 'auto') {\n\t\t\t\tbackgroundWidth = this.backgroundWidth;\n\t\t\t\tbackgroundHeight = this.backgroundHeight;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (backgroundWidth == 'auto') {\n\t\t\t\t\tbackgroundWidth = this.backgroundWidth * (backgroundHeight / this.backgroundHeight);\n\t\t\t\t}\n\n\t\t\t\tif (backgroundHeight == 'auto') {\n\t\t\t\t\tbackgroundHeight = this.backgroundHeight * (backgroundWidth / this.backgroundWidth);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Compute backgroundX and backgroundY in page coordinates\n\t\tvar backgroundX = backgroundPosition[0];\n\t\tvar backgroundY = backgroundPosition[1];\n\n\t\tif (isPercentage(backgroundX)) {\n\t\t\tbackgroundX = container.left + (container.width - backgroundWidth) * parseFloat(backgroundX) / 100;\n\t\t}\n\t\telse {\n\t\t\tbackgroundX = container.left + parseFloat(backgroundX);\n\t\t}\n\n\t\tif (isPercentage(backgroundY)) {\n\t\t\tbackgroundY = container.top + (container.height - backgroundHeight) * parseFloat(backgroundY) / 100;\n\t\t}\n\t\telse {\n\t\t\tbackgroundY = container.top + parseFloat(backgroundY);\n\t\t}\n\n\t\tvar elementOffset = this.$el.offset();\n\n\t\tthis.renderProgram.uniforms.topLeft = new Float32Array([\n\t\t\t(elementOffset.left - backgroundX) / backgroundWidth,\n\t\t\t(elementOffset.top - backgroundY) / backgroundHeight\n\t\t]);\n\t\tthis.renderProgram.uniforms.bottomRight = new Float32Array([\n\t\t\tthis.renderProgram.uniforms.topLeft[0] + this.$el.innerWidth() / backgroundWidth,\n\t\t\tthis.renderProgram.uniforms.topLeft[1] + this.$el.innerHeight() / backgroundHeight\n\t\t]);\n\n\t\tvar maxSide = Math.max(this.canvas.width, this.canvas.height);\n\n\t\tthis.renderProgram.uniforms.containerRatio = new Float32Array([\n\t\t\tthis.canvas.width / maxSide,\n\t\t\tthis.canvas.height / maxSide\n\t\t]);\n\t},\n\n\tinitShaders: function() {\n\t\tvar vertexShader = [\n\t\t\t'attribute vec2 vertex;',\n\t\t\t'varying vec2 coord;',\n\t\t\t'void main() {',\n\t\t\t\t'coord = vertex * 0.5 + 0.5;',\n\t\t\t\t'gl_Position = vec4(vertex, 0.0, 1.0);',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tthis.dropProgram = createProgram(vertexShader, [\n\t\t\t'precision highp float;',\n\n\t\t\t'const float PI = 3.141592653589793;',\n\t\t\t'uniform sampler2D texture;',\n\t\t\t'uniform vec2 center;',\n\t\t\t'uniform float radius;',\n\t\t\t'uniform float strength;',\n\n\t\t\t'varying vec2 coord;',\n\n\t\t\t'void main() {',\n\t\t\t\t'vec4 info = texture2D(texture, coord);',\n\n\t\t\t\t'float drop = max(0.0, 1.0 - length(center * 0.5 + 0.5 - coord) / radius);',\n\t\t\t\t'drop = 0.5 - cos(drop * PI) * 0.5;',\n\n\t\t\t\t'info.r += drop * strength;',\n\n\t\t\t\t'gl_FragColor = info;',\n\t\t\t'}'\n\t\t].join('\\n'));\n\n\t\tthis.updateProgram = createProgram(vertexShader, [\n\t\t\t'precision highp float;',\n\n\t\t\t'uniform sampler2D texture;',\n\t\t\t'uniform vec2 delta;',\n\n\t\t\t'varying vec2 coord;',\n\n\t\t\t'void main() {',\n\t\t\t\t'vec4 info = texture2D(texture, coord);',\n\n\t\t\t\t'vec2 dx = vec2(delta.x, 0.0);',\n\t\t\t\t'vec2 dy = vec2(0.0, delta.y);',\n\n\t\t\t\t'float average = (',\n\t\t\t\t\t'texture2D(texture, coord - dx).r +',\n\t\t\t\t\t'texture2D(texture, coord - dy).r +',\n\t\t\t\t\t'texture2D(texture, coord + dx).r +',\n\t\t\t\t\t'texture2D(texture, coord + dy).r',\n\t\t\t\t') * 0.25;',\n\n\t\t\t\t'info.g += (average - info.r) * 2.0;',\n\t\t\t\t'info.g *= 0.995;',\n\t\t\t\t'info.r += info.g;',\n\n\t\t\t\t'gl_FragColor = info;',\n\t\t\t'}'\n\t\t].join('\\n'));\n\t\tgl.uniform2fv(this.updateProgram.locations.delta, this.textureDelta);\n\n\t\tthis.renderProgram = createProgram([\n\t\t\t'precision highp float;',\n\n\t\t\t'attribute vec2 vertex;',\n\t\t\t'uniform vec2 topLeft;',\n\t\t\t'uniform vec2 bottomRight;',\n\t\t\t'uniform vec2 containerRatio;',\n\t\t\t'varying vec2 ripplesCoord;',\n\t\t\t'varying vec2 backgroundCoord;',\n\t\t\t'void main() {',\n\t\t\t\t'backgroundCoord = mix(topLeft, bottomRight, vertex * 0.5 + 0.5);',\n\t\t\t\t'backgroundCoord.y = 1.0 - backgroundCoord.y;',\n\t\t\t\t'ripplesCoord = vec2(vertex.x, -vertex.y) * containerRatio * 0.5 + 0.5;',\n\t\t\t\t'gl_Position = vec4(vertex.x, -vertex.y, 0.0, 1.0);',\n\t\t\t'}'\n\t\t].join('\\n'), [\n\t\t\t'precision highp float;',\n\n\t\t\t'uniform sampler2D samplerBackground;',\n\t\t\t'uniform sampler2D samplerRipples;',\n\t\t\t'uniform vec2 delta;',\n\n\t\t\t'uniform float perturbance;',\n\t\t\t'varying vec2 ripplesCoord;',\n\t\t\t'varying vec2 backgroundCoord;',\n\n\t\t\t'void main() {',\n\t\t\t\t'float height = texture2D(samplerRipples, ripplesCoord).r;',\n\t\t\t\t'float heightX = texture2D(samplerRipples, vec2(ripplesCoord.x + delta.x, ripplesCoord.y)).r;',\n\t\t\t\t'float heightY = texture2D(samplerRipples, vec2(ripplesCoord.x, ripplesCoord.y + delta.y)).r;',\n\t\t\t\t'vec3 dx = vec3(delta.x, heightX - height, 0.0);',\n\t\t\t\t'vec3 dy = vec3(0.0, heightY - height, delta.y);',\n\t\t\t\t'vec2 offset = -normalize(cross(dy, dx)).xz;',\n\t\t\t\t'float specular = pow(max(0.0, dot(offset, normalize(vec2(-0.6, 1.0)))), 4.0);',\n\t\t\t\t'gl_FragColor = texture2D(samplerBackground, backgroundCoord + offset * perturbance) + specular;',\n\t\t\t'}'\n\t\t].join('\\n'));\n\t\tgl.uniform2fv(this.renderProgram.locations.delta, this.textureDelta);\n\t},\n\n\tinitTexture: function() {\n\t\tthis.backgroundTexture = gl.createTexture();\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\n\t\tgl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t},\n\n\tsetTransparentTexture: function() {\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, transparentPixels);\n\t},\n\n\thideCssBackground: function() {\n\n\t\t// Check whether we're changing inline CSS or overriding a global CSS rule.\n\t\tvar inlineCss = this.$el[0].style.backgroundImage;\n\n\t\tif (inlineCss == 'none') {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.originalInlineCss = inlineCss;\n\n\t\tthis.originalCssBackgroundImage = this.$el.css('backgroundImage');\n\t\tthis.$el.css('backgroundImage', 'none');\n\t},\n\n\trestoreCssBackground: function() {\n\n\t\t// Restore background by either changing the inline CSS rule to what it was, or\n\t\t// simply remove the inline CSS rule if it never was inlined.\n\t\tthis.$el.css('backgroundImage', this.originalInlineCss || '');\n\t},\n\n\tdropAtPointer: function(pointer, radius, strength) {\n\t\tvar borderLeft = parseInt(this.$el.css('border-left-width')) || 0,\n\t\t\t\tborderTop = parseInt(this.$el.css('border-top-width')) || 0;\n\n\t\tthis.drop(\n\t\t\tpointer.pageX - this.$el.offset().left - borderLeft,\n\t\t\tpointer.pageY - this.$el.offset().top - borderTop,\n\t\t\tradius,\n\t\t\tstrength\n\t\t);\n\t},\n\n\t/**\n\t *  Public methods\n\t */\n\tdrop: function(x, y, radius, strength) {\n\t\tgl = this.context;\n\n\t\tvar elWidth = this.$el.innerWidth();\n\t\tvar elHeight = this.$el.innerHeight();\n\t\tvar longestSide = Math.max(elWidth, elHeight);\n\n\t\tradius = radius / longestSide;\n\n\t\tvar dropPosition = new Float32Array([\n\t\t\t(2 * x - elWidth) / longestSide,\n\t\t\t(elHeight - 2 * y) / longestSide\n\t\t]);\n\n\t\tgl.viewport(0, 0, this.resolution, this.resolution);\n\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\n\t\tbindTexture(this.textures[this.bufferReadIndex]);\n\n\t\tgl.useProgram(this.dropProgram.id);\n\t\tgl.uniform2fv(this.dropProgram.locations.center, dropPosition);\n\t\tgl.uniform1f(this.dropProgram.locations.radius, radius);\n\t\tgl.uniform1f(this.dropProgram.locations.strength, strength);\n\n\t\tthis.drawQuad();\n\n\t\tthis.swapBufferIndices();\n\t},\n\n\tupdateSize: function() {\n\t\tvar newWidth = this.$el.innerWidth(),\n\t\t\t\tnewHeight = this.$el.innerHeight();\n\n\t\tif (newWidth != this.canvas.width || newHeight != this.canvas.height) {\n\t\t\tthis.canvas.width = newWidth;\n\t\t\tthis.canvas.height = newHeight;\n\t\t}\n\t},\n\n\tdestroy: function() {\n\t\tthis.$el\n\t\t\t.off('.ripples')\n\t\t\t.removeClass('jquery-ripples')\n\t\t\t.removeData('ripples');\n\n\t\t// Make sure the last used context is garbage-collected\n\t\tgl = null;\n\n\t\t$(window).off('resize', this.updateSize);\n\n\t\tthis.$canvas.remove();\n\t\tthis.restoreCssBackground();\n\n\t\tthis.destroyed = true;\n\t},\n\n\tshow: function() {\n\t\tthis.visible = true;\n\n\t\tthis.$canvas.show();\n\t\tthis.hideCssBackground();\n\t},\n\n\thide: function() {\n\t\tthis.visible = false;\n\n\t\tthis.$canvas.hide();\n\t\tthis.restoreCssBackground();\n\t},\n\n\tpause: function() {\n\t\tthis.running = false;\n\t},\n\n\tplay: function() {\n\t\tthis.running = true;\n\t},\n\n\tset: function(property, value) {\n\t\tswitch (property) {\n\t\t\tcase 'dropRadius':\n\t\t\tcase 'perturbance':\n\t\t\tcase 'interactive':\n\t\t\tcase 'crossOrigin':\n\t\t\t\tthis[property] = value;\n\t\t\t\tbreak;\n\t\t\tcase 'imageUrl':\n\t\t\t\tthis.imageUrl = value;\n\t\t\t\tthis.loadImage();\n\t\t\t\tbreak;\n\t\t}\n\t}\n};\n\n// RIPPLES PLUGIN DEFINITION\n// ==========================\n\nvar old = $.fn.ripples;\n\n$.fn.ripples = function(option) {\n\tif (!config) {\n\t\tthrow new Error('Your browser does not support WebGL, the OES_texture_float extension or rendering to floating point textures.');\n\t}\n\n\tvar args = (arguments.length > 1) ? Array.prototype.slice.call(arguments, 1) : undefined;\n\n\treturn this.each(function() {\n\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('ripples'),\n\t\t\t\toptions = $.extend({}, Ripples.DEFAULTS, $this.data(), typeof option == 'object' && option);\n\n\t\tif (!data && typeof option == 'string') {\n\t\t\treturn;\n\t\t}\n\t\tif (!data) {\n\t\t\t$this.data('ripples', (data = new Ripples(this, options)));\n\t\t}\n\t\telse if (typeof option == 'string') {\n\t\t\tRipples.prototype[option].apply(data, args);\n\t\t}\n\t});\n};\n\n$.fn.ripples.Constructor = Ripples;\n\n\n// RIPPLES NO CONFLICT\n// ====================\n\n$.fn.ripples.noConflict = function() {\n\t$.fn.ripples = old;\n\treturn this;\n};\n\n})));\n"],"sourceRoot":""}